(this["webpackJsonpnpm-dependency-visualizer"]=this["webpackJsonpnpm-dependency-visualizer"]||[]).push([[0],{241:function(e,t){e.exports="data:image/png;base64,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+/btvVzioudu2bLlor/mF7oXUHrd29U686OPPqp1fKcHV0Xw3XffdXp4K8d9+OGHfbtPvxy7feBdu3YVp0+f7vb0S543bFkv+bBX0C8qvRaGVX3XwcmTJ/t2pz179vTt2t1c+IcffujmtI7OScpaOZ49e7YjFwd1LqD0Orfq+sgjR450fW4nJ1bf1jVMr37mTcpalmWxf//+YRrtVfEsSq+FMV57bX+/xbn6c6VhevUz77BlHT16dF/pz5w509frJ15c6bUw9WnTpvX1LjNmzOjr9etevJ95k7JW7sOWt+4uDOPxSq+FqUyZMqUYP3583+50++239+3a3Vx49uzZ3ZzW0TnDlnXWrFkdPXc3B02ePLmYMGFCN6c65xICSu8SOE3+0uLFi5u83N/Xqt4YCxYs+Pu/h+EHTz75ZN8e46mnnurbtbu58MMPP1xUM+jHq/pIMa/mBZRe86b/esXnn3/+X3++159csWJF0e8/V6r7jI899lhx88031z3tssdXn7n3yCOPXPa4Ng8YM2bMyGcA9uOey5cv78dl46+p9FpageoDI6sPBG3yNXbs2OLll19u8pKNXeull15q7FrnL/TKK6+c/+FQ/XvdunXFqFHNvpUeeOCBofsd/FCh9/AwzU6qhwdJOHXDhg2Nxly5cuXIp/A2etGGLvbiiy8WU6dObehqxcinKa9evbqx6zV5oZkzZxbLli1r8pLF66+/3uj1XOwCgZzvuBuOpKtXr27k+zTvvvvu8o8//hiOUBd5is8//7wcPXp0z3mvu+66of8+1Oqz9O68886es1bfc/vqq69eRNRPNyHgAweaUKx5jaeffrqnN8ddd91VHjx4sOZdB3P422+/3VPWcePGle+///5gHr7mXX/88cdy5syZPeVdsWJFzbs6vK6A0qsr1tDxb775Zlm9oet+4sqaNWsaeoL2LrNnz55y7ty5tbPed999ZVUkV9Lr999/L7v51JXqw1a3b99+JUW9Yp9V6Q1wdIcOHSoXL17cURlU/zv79ddfD/Bpe7v1mTNnyupj8jsp+okTJ458bPq5c+d6u+kAz961a1c5a9asjmZbleSRI0cG+LRZt76minvBH/H54QAEqk9JqT5G6IsvvijOnTv3jyeYN29e8cwzz1w1f1Xg8ePHi507dxY7duz4vw9hqL7e7dlnny0ef/zx4sYbb/yHw5X6H5988knxzjvvjPzVnhdmqL5Vr/rym+qvvOznF3NfeE8//q+A0rMJBAhECfiSlahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAwH8AnNjILlDWW6AAAAAASUVORK5CYII="},259:function(e,t,n){e.exports=n.p+"static/media/404.9cf0a1ad.png"},260:function(e,t,n){e.exports=n.p+"static/media/error-cone.b85c2c68.png"},261:function(e,t,n){e.exports=n.p+"static/media/error-tripped.7bd78359.png"},264:function(e,t,n){e.exports=n(568)},266:function(e,t,n){},271:function(e,t,n){},272:function(e,t,n){},307:function(e,t){},368:function(e,t,n){},371:function(e,t,n){},538:function(e,t,n){},551:function(e,t,n){},556:function(e,t,n){},567:function(e,t,n){},568:function(e,t,n){"use strict";n.r(t);n(265),n(266);var a=n(0),r=n.n(a),o=n(2),s=n.n(o),i=(n(271),n(8)),c=n(18),l=n(23),u=n(5),d=n(49),g=n(38),p=(n(272),n(107)),h=n.n(p),A=n(61),m=n(238),f={isLoading:!1,searchQuery:"",packagesRemaining:0,packagesLoaded:0,currentPackageLoaded:"",errorCode:null,cache:{entries:0,size:0}},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SEARCH_STARTED":return Object(i.a)({},e,{isLoading:!0,searchQuery:t.query,packagesRemaining:0,packagesLoaded:0,errorCode:null,currentPackageLoaded:""});case"SEARCH_PROGRESS":return Object(i.a)({},e,{packagesRemaining:t.packagesRemaining,packagesLoaded:t.packagesLoaded,currentPackageLoaded:t.currentPackageLoaded});case"SEARCH_FINISHED":return Object(i.a)({},e,{isLoading:!1,errorCode:null});case"SEARCH_ERROR":return Object(i.a)({},e,{isLoading:!1,errorCode:t.errorCode});case"SEARCH_UPDATE_CACHE_SIZE":return Object(i.a)({},e,{cache:{entries:t.entries,size:t.size}});default:return e}},v={rootNodeId:"",nodes:[],edges:[]},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_GRAPH_DATA":return Object(i.a)({},t.data);default:return e}},k={errorCode:null,isLoading:!1,packageInfo:null},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_PACKAGE_INFO":return Object(i.a)({},k,{packageInfo:Object(i.a)({},t.packageInfo)});case"CLEAR_PACKAGE_INFO":return Object(i.a)({},k);case"PACKAGE_INFO_SEARCH_START":return Object(i.a)({},k,{isLoading:!0});case"PACKAGE_INFO_ERROR":return Object(i.a)({},k,{errorCode:t.errorCode});default:return e}},y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,w=Object(A.c)({search:E,graph:b,package:R}),N=Object(A.e)(w,y(Object(A.a)(m.a))),S=n(14),C=n(240),I=n.n(C),B=n(119),O=n(573),z=n(78),F=n(59),x=n(77),j=n(582),P={nodes:{shape:"dot",size:12},layout:{improvedLayout:!1},edges:{smooth:{type:"continuous"},arrows:{to:{enabled:!0,scaleFactor:.5},from:{enabled:!1}}},physics:{maxVelocity:50,solver:"forceAtlas2Based",timestep:.5,forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18,avoidOverlap:1},stabilization:{enabled:!0,iterations:500,updateInterval:1}},interaction:{hideEdgesOnDrag:!0,hideEdgesOnZoom:!0}},K=Object(i.a)({},P,{nodes:Object(i.a)({},P.nodes,{scaling:{min:10,max:30}}),edges:Object(i.a)({},P.edges,{width:.15}),physics:Object(i.a)({},P.physics,{forceAtlas2Based:Object(i.a)({},P.physics.forceAtlas2Based,{avoidOverlap:0}),stabilization:{updateInterval:1}})}),L=n(241),Q=n.n(L),J=O.a.Title,D=function(e){Object(g.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).containerRef=r.a.createRef(),a.centerButtonRef=r.a.createRef(),a.network=null,a.dataset={nodes:new B.a([]),edges:new B.a([])},a.state={graphLoadProgress:0,nodesLoaded:0,nodesRemaining:0,isHighlightActive:!1,graphPosition:null,graphScale:null},a.onStabilizationProgress=a.onStabilizationProgress.bind(Object(u.a)(a)),a.onStabilizationIterationsDone=a.onStabilizationIterationsDone.bind(Object(u.a)(a)),a.renderEmpty=a.renderEmpty.bind(Object(u.a)(a)),a.highlightChildren=a.highlightChildren.bind(Object(u.a)(a)),a.recenterGraph=a.recenterGraph.bind(Object(u.a)(a));var o=h()(N.getState,"graph.rootNodeId",I.a);return a.unsubscribe=N.subscribe(o((function(e){a.updateGraph(e)}))),a}return Object(l.a)(n,[{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.network&&this.network.destroy()}},{key:"componentDidMount",value:function(){var e=this.containerRef.current;this.network=new B.b(e,this.dataset,P),this.network.on("stabilizationProgress",this.onStabilizationProgress),this.network.on("stabilizationIterationsDone",this.onStabilizationIterationsDone),this.network.on("hold",this.toggleCenterButton.bind(this,!1)),this.network.on("dragStart",this.toggleCenterButton.bind(this,!1)),this.network.on("release",this.toggleCenterButton.bind(this,!0)),this.network.on("dragEnd",this.toggleCenterButton.bind(this,!0)),this.network.on("click",this.highlightChildren)}},{key:"updateGraph",value:function(e){this.network&&(this.dataset.nodes.clear(),this.dataset.edges.clear(),this.dataset.nodes.update(this.props.nodes),this.dataset.edges.update(this.props.edges),this.dataset.nodes.length>=250&&this.network.setOptions(Object(i.a)({},K)),this.network.setData(this.dataset),this.network.redraw(),this.dataset.nodes.update({id:e,size:32}))}},{key:"onStabilizationProgress",value:function(e){var t=e.iterations,n=e.total;this.setState({graphLoadProgress:Math.round(t/n*100)})}},{key:"onStabilizationIterationsDone",value:function(){this.setState({graphLoadProgress:100,graphPosition:this.network.getViewPosition(),graphScale:this.network.getScale()}),this.network.setOptions({physics:!1})}},{key:"recenterGraph",value:function(){this.state.graphPosition&&this.state.graphScale&&this.network.moveTo({position:this.state.graphPosition,scale:this.state.graphScale})}},{key:"toggleCenterButton",value:function(e){this.centerButtonRef&&this.centerButtonRef.current&&(this.centerButtonRef.current.style.display=e?"":"none")}},{key:"highlightChildren",value:function(e){var t=this.dataset.nodes.get({returnType:"Object"}),n=this.dataset.edges.get({returnType:"Object"});if(e.nodes.length>0){this.setState({isHighlightActive:!0});var a=e.nodes[0];for(var r in t)t[r].color="rgba(150, 150, 150, 0.25)",t[r].size=12,void 0===t[r].hiddenLabel&&(t[r].hiddenLabel=t[r].label,t[r].label=void 0);for(var o in n)n[o].hidden=!1;for(var s=this.network.getConnectedNodes(a,"to"),i=0;i<s.length;i++)t[s[i]].color="#1c51a0",void 0!==t[s[i]].hiddenLabel&&(t[s[i]].label=t[s[i]].hiddenLabel,t[s[i]].hiddenLabel=void 0);for(var c in n)n[c].from===a&&s.includes(n[c].to)||(n[c].hidden=!0);t[a].color="#86b3fb",t[a].size=32,void 0!==t[a].hiddenLabel&&(t[a].label=t[a].hiddenLabel,t[a].hiddenLabel=void 0)}else if(this.state.isHighlightActive){for(var l in t)t[l].color="#86b3fb",t[l].size=l===this.props.rootNodeId?32:12,void 0!==t[l].hiddenLabel&&(t[l].label=t[l].hiddenLabel,t[l].hiddenLabel=void 0);for(var u in n)n[u].hidden=!1;this.setState({isHighlightActive:!1})}var d=[],g=[];for(var p in t)t.hasOwnProperty(p)&&d.push(t[p]);for(var h in n)n.hasOwnProperty(h)&&g.push(n[h]);this.dataset.nodes.update(d),this.dataset.edges.update(g),this.network.redraw()}},{key:"renderEmpty",value:function(){return this.props.nodes.length>0?null:r.a.createElement("div",{className:"no-data"},r.a.createElement(z.a,{image:Q.a,imageStyle:{height:"12em"},description:null},r.a.createElement("div",null,r.a.createElement(J,{level:2},"No data to show"),r.a.createElement("p",null,"It's lookin pretty empty in here."),r.a.createElement("p",{className:"message"},'Try searching for a package like "react" or "express".\n                            Although, that might be hard if you don\'t have hands. Or maybe\n                            you\'re a robot. Thats ok, I wont judge.'))))}},{key:"render",value:function(){var e=this.state,t=e.graphLoadProgress,n=e.graphPosition,a=e.graphScale;return r.a.createElement("div",{className:"dependency-graph"},t<100||!n||!a?null:r.a.createElement(F.a,{placement:"topRight",title:"Recenter graph"},r.a.createElement(x.a,{icon:r.a.createElement(j.a,null),size:"large",className:"recenter-btn",onClick:this.recenterGraph,ref:this.centerButtonRef})),r.a.createElement("div",{className:"network-wrapper",hidden:0===this.props.nodes.length},100===t?null:r.a.createElement("div",{className:"progress-wrapper"},r.a.createElement("div",{className:"progress"},t,"%"),r.a.createElement("div",{className:"progress-title"},"Rendering nodes...")),r.a.createElement("div",{ref:this.containerRef,className:"network"})),this.renderEmpty())}}]),n}(r.a.Component),_=Object(S.b)((function(e){return{nodes:e.graph.nodes,edges:e.graph.edges,rootNodeId:e.graph.rootNodeId}}),null)(D),T=(n(368),n(569)),H=O.a.Title,U=["searching for dependencies...","crunching data, sit tight...","doing nerd calculations...","contacting npm servers...","searching the interwebs...","contemplating the meaning of life..."],M=Object(S.b)((function(e){return{isLoading:e.search.isLoading,currentPackageLoaded:e.search.currentPackageLoaded}}))((function(e){return e.isLoading?r.a.createElement("div",{className:"loading-overlay"},r.a.createElement("div",{className:"loading-content-wrapper"},r.a.createElement("div",{className:"loading-container"},r.a.createElement(H,{level:2,className:"loading-text"},"Loading"),r.a.createElement(T.a,{size:"large",className:"spinner"})),r.a.createElement("p",null,e.currentPackageLoaded?"loading dependencies for ".concat(e.currentPackageLoaded):U[Math.floor(Math.random()*U.length)]))):null})),q=n(571),X=(n(371),n(581)),V=n(579),G=n(580),W=n(576),Z=n(570),Y=n(585),$=n(586),ee=n(587),te=n(588),ne=function(e){return{type:"UPDATE_GRAPH_DATA",data:e}},ae=n(10),re=n.n(ae),oe=n(31),se={NOT_FOUND:404,BAD_REQUEST:400,FILE_READ_ERROR:-1,UNKNOWN_ERROR:-2},ie=function(e){var t=null,n=null,a={},r=e.collected.metadata,o=r.name,s=r.description,i=r.version,c=r.dependencies,l=e.evaluation.popularity,u=l.downloadsCount,d=l.dependentsCount,g=e.score.detail,p=g.quality,h=g.popularity;return e.collected.github&&(t=e.collected.github.starsCount,n=e.collected.github.forksCount),e.collected.metadata.links&&(a=e.collected.metadata.links),{type:"SET_PACKAGE_INFO",packageInfo:{name:o,description:s,version:i,dependencies:c||[],downloads:Math.floor(u),dependents:Math.floor(d),stars:t,forks:n,quality:Math.round(100*p),popularity:Math.round(100*h),links:a}}},ce=function(e){return{type:"PACKAGE_INFO_ERROR",errorCode:e}},le=function(){return{type:"CLEAR_PACKAGE_INFO"}},ue=function(e,t){return{rootNodeId:e,nodes:t.nodes().map((function(e){return{id:e,label:e}})),edges:t.edges().map((function(e){return{from:e.v,to:e.w}}))}},de=function(){function e(){Object(c.a)(this,e)}return Object(l.a)(e,null,[{key:"init",value:function(){this._suggestions={};var t=parseInt(localStorage.getItem("lastAccessed"));Date.now()-t>864e5&&e.clear();var n=e.getEntries(),a=e.getSize();N.dispatch(ye(n,a))}},{key:"cacheDependencies",value:function(t,n){var a={dependencies:n,storedAt:Date.now()};try{localStorage.setItem("lastAccessed",Date.now()),localStorage.setItem(t,JSON.stringify(a))}catch(r){e.clearHalf()}}},{key:"cacheSuggestions",value:function(e,t){this._suggestions[e]=t}},{key:"getDependencies",value:function(e){var t=localStorage.getItem(e);if(!t)return null;try{var n=JSON.parse(t).dependencies;return Array.from(n)}catch(a){return console.error("Error parsing cache",a),null}}},{key:"getSuggestions",value:function(e){return this._suggestions[e]}},{key:"getSize",value:function(){var e=0;for(var t in localStorage)localStorage.hasOwnProperty(t)&&(e+=2*(localStorage[t].length+t.length));return e/1024}},{key:"getEntries",value:function(){return localStorage.length}},{key:"clear",value:function(){localStorage.clear(),N.dispatch(ye(0,0))}},{key:"clearHalf",value:function(){var e=[];for(var t in localStorage){var n=localStorage.getItem(t);if(n&&n.includes("dependencies"))try{n=JSON.parse(n),e.push({key:t,storedAt:n.storedAt})}catch(r){console.error("Error retrieving dependency from cache",r)}}e.sort((function(e,t){return e.storedAt-t.storedAt}));for(var a=0;a<Math.ceil(e.length/2);a++)localStorage.removeItem(e[a].key)}}]),e}(),ge=n(251).graphlib.Graph,pe=function(){},he=function(){var e=Object(oe.a)(re.a.mark((function e(t,n){var a;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe(t);case 2:if(e.sent){e.next=5;break}throw new Error("Not found");case 5:return(a=new ge({directed:!0})).setNode(t),e.next=9,me(t,a,n);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(oe.a)(re.a.mark((function e(t,n,a){var r,o,s;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ge({directed:!0}),o=new Set,s=[],r.setNode(t),n.forEach((function(e){r.setEdge(t,e),s.push(me(e,r,a,o))})),e.next=7,Promise.all(s);case 7:return e.abrupt("return",r);case 8:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(oe.a)(re.a.mark((function e(t,n){var a,r,o,s,i,c,l,u=arguments;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=u.length>2&&void 0!==u[2]?u[2]:pe,r=u.length>3&&void 0!==u[3]?u[3]:new Set,o=u.length>4&&void 0!==u[4]?u[4]:{},s=u.length>5&&void 0!==u[5]?u[5]:[],!o[t]){e.next=6;break}return e.abrupt("return");case 6:if(o[t]=!0,i=de.getDependencies(t)){e.next=15;break}return e.next=11,Ee(t);case 11:if(200===(c=e.sent).status){e.next=14;break}return e.abrupt("return");case 14:i=c.dependencies;case 15:return l=[],de.cacheDependencies(t,i),i.forEach((function(e){s.push(e),l.push(me(e,n,a,r,o,s).then((function(){r.add(e),n.setEdge(t,e),s.pop(),a(s.length,r.size,t)})))})),e.abrupt("return",Promise.all(l));case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fe=function(e){return new Promise((function(t){fetch("https://registry.npmjs.cf/".concat(encodeURIComponent(e))).then((function(e){return t(200===e.status)})).catch((function(){return t(!1)}))}))},Ee=function(e){return new Promise(function(){var t=Object(oe.a)(re.a.mark((function t(n,a){return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("https://registry.npmjs.cf/".concat(encodeURIComponent(e))).then(function(){var e=Object(oe.a)(re.a.mark((function e(t){var a,r;return re.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(200===t.status){e.next=3;break}return n({dependencies:[],status:t.status}),e.abrupt("return");case 3:return e.next=5,t.json();case 5:if((t=e.sent)["dist-tags"]&&t.versions){e.next=9;break}return n({dependencies:[],status:200}),e.abrupt("return");case 9:a=t["dist-tags"].latest,r=t.versions[a],n({dependencies:Object.keys(r.dependencies||[]),status:200});case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return a(e)}));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}())},ve={getDependencies:he,getDependenciesFromFile:Ae,getSuggestions:function(e){var t='https://registry.npmjs.org/-/v1/search?size=10&from=0&text="'.concat(encodeURIComponent(e),'"'),n=de.getSuggestions(e);return new Promise((function(a,r){n?a(n):fetch(t).then((function(e){return e.json()})).then((function(t){var n=t.objects.map((function(e){return{name:e.package.name,description:e.package.description}}));a(n),de.cacheSuggestions(e,n)})).catch((function(e){return r(e)}))}))}},be=function(e){return{type:"SEARCH_STARTED",query:e}},ke=function(){return{type:"SEARCH_FINISHED"}},Re=function(e){return{type:"SEARCH_ERROR",errorCode:e}},ye=function(e,t){return{type:"SEARCH_UPDATE_CACHE_SIZE",entries:e,size:t}},we=function(e,t,n){return{type:"SEARCH_PROGRESS",packagesLoaded:t,packagesRemaining:e,currentPackageLoaded:n}},Ne=function(e){return function(t){var n;t({type:"CLEAR_PACKAGE_INFO"}),t(be(e)),t((n=e,function(e){e({type:"PACKAGE_INFO_SEARCH_START"}),fetch("https://api.npms.io/v2/package/".concat(encodeURIComponent(n))).then(function(){var t=Object(oe.a)(re.a.mark((function t(n){var a;return re.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(200===n.status){t.next=3;break}return e(ce(n.status)),t.abrupt("return");case 3:return t.next=5,n.json();case 5:a=t.sent,e(ie(a));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){console.error(t),e(ce(se.UNKNOWN_ERROR))}))}));ve.getDependencies(e,(function(e,n,a){t(we(e,n,a))})).then((function(n){var a=ue(e,n);t({type:"SEARCH_FINISHED"}),t(ne(a));var r=de.getEntries(),o=de.getSize();t(ye(r,o))}),(function(e){console.error(e),t(Re(se.NOT_FOUND))}))}},Se=(n(538),n(575)),Ce=n(574),Ie=Se.a.Panel,Be=function(e){if(!e.links)return null;var t=[];for(var n in e.links)t.push(r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.links[n],className:"package-link",title:n},e.links[n]));return r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Links"),r.a.createElement("div",{className:"links-container"},t.map((function(e,t){return r.a.createElement(r.a.Fragment,{key:t},e)}))))},Oe=function(e){return null===e.stars||null===e.forks?null:r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Statistics"),r.a.createElement(V.a,{justify:"center",align:"center",className:"github-stats"},r.a.createElement(G.a,{span:12},r.a.createElement(W.a,{title:"Stars",value:e.stars})),r.a.createElement(G.a,{span:12},r.a.createElement(W.a,{title:"Forks",value:e.forks}))))},ze=function(e){return null===e.downloads||null===e.dependents?null:r.a.createElement("div",{className:"package-info-block"},r.a.createElement(V.a,{justify:"center",align:"center"},r.a.createElement(G.a,{span:12},r.a.createElement(W.a,{title:"Dependents",value:e.dependents})),r.a.createElement(G.a,{span:12},r.a.createElement(W.a,{title:"Downloads",value:e.downloads}))))},Fe=function(e){return null===e.quality||null===e.popularity?null:r.a.createElement("div",{className:"package-info-block"},r.a.createElement(V.a,{justify:"center",align:"center",gutter:32},r.a.createElement(G.a,{span:12},r.a.createElement("div",{className:"stats-score"},r.a.createElement("span",{className:"label"},"Quality"),r.a.createElement(Ce.a,{type:"circle",size:"small",width:100,percent:e.quality,format:function(e){return"".concat(e,"%")},className:"stats-progress"}))),r.a.createElement(G.a,{span:12},r.a.createElement("div",{className:"stats-score"},r.a.createElement("span",{className:"label"},"Popularity"),r.a.createElement(Ce.a,{type:"circle",size:"small",width:100,percent:e.popularity,format:function(e){return"".concat(e,"%")},className:"stats-progress"})))))},xe=function(e){var t=Object.keys(e.dependencies);return r.a.createElement("div",{className:"package-info-block dependencies"},r.a.createElement(Se.a,{bordered:!1,className:"dependencies-collapse",expandIconPosition:"right"},r.a.createElement(Ie,{header:"Direct Dependencies: ".concat(t.length),className:"dependencies-collapse-panel"},t.map((function(t){return r.a.createElement("div",{key:t,className:"dependency-info",onClick:function(){return e.onDependencyClick(t)}},r.a.createElement("span",{className:"dependency-name",title:t},t),r.a.createElement("span",{className:"dependency-name",title:e.dependencies[t]},e.dependencies[t]))})))))},je=Object(S.b)((function(e){return{isLoading:e.package.isLoading,packageInfo:e.package.packageInfo,errorCode:e.package.errorCode,searchQuery:e.search.searchQuery}}))((function(e){if(e.isLoading)return r.a.createElement("div",{className:"package-info-status"},"Loading details for ",e.searchQuery,"...");if(e.errorCode){var t="";switch(e.errorCode){case se.BAD_REQUEST:case se.NOT_FOUND:t="No details found for ".concat(e.searchQuery);break;default:t="An error ocurred while loading details for ".concat(e.searchQuery)}return r.a.createElement("div",{className:"package-info-status"},t)}if(!e.packageInfo)return null;var n=e.packageInfo,a=n.name,o=n.description,s=n.version,i=n.dependencies,c=n.downloads,l=n.dependents,u=n.stars,d=n.forks,g=n.quality,p=n.popularity,h=n.links;return r.a.createElement("div",{className:"package-info"},r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Package"),r.a.createElement("div",{className:"dependency-info package-name"},r.a.createElement("span",{className:"dependency-name"},a),r.a.createElement("span",null,s))),o?r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Description"),r.a.createElement("p",{className:"package-description"},o)):null,r.a.createElement(Be,{links:h}),r.a.createElement(Oe,{stars:u,forks:d}),r.a.createElement(ze,{downloads:c,dependents:l}),r.a.createElement(Fe,{quality:g,popularity:p}),r.a.createElement(xe,{dependencies:i,onDependencyClick:e.onDependencyClick}),r.a.createElement(Z.a,{className:"package-info-divider"}))})),Pe=function(e,t){var n;return function(){var a=this,r=arguments,o=function(){n=null,e.apply(a,r)};clearTimeout(n),n=setTimeout(o,t)}},Ke=(n(551),n(577)),Le=n(583),Qe=function(e){Object(g.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).inputRef=r.a.createRef(),a.triggerUpload=a.triggerUpload.bind(Object(u.a)(a)),a.readFile=a.readFile.bind(Object(u.a)(a)),a.uploadStart=a.uploadStart.bind(Object(u.a)(a)),a.onFileLoaded=a.onFileLoaded.bind(Object(u.a)(a)),a.onError=a.onError.bind(Object(u.a)(a)),window.FileReader&&(a.fileReader=new FileReader),a}return Object(l.a)(n,[{key:"triggerUpload",value:function(){this.inputRef.current.click()}},{key:"uploadStart",value:function(){this.props.searchStart(),this.props.clearPackageInfo()}},{key:"onError",value:function(e){console.error(e),this.props.searchError(se.FILE_READ_ERROR)}},{key:"onFileLoaded",value:function(){if(this.inputRef.current){this.inputRef.current.value=null;var e=this.fileReader.result;try{var t=JSON.parse(e);if(!t.dependencies)throw new Error("This file has no dependencies field");if(!t.name)throw new Error("This file must have a name field");for(var n in t.dependencies)if("string"!==typeof t.dependencies[n])throw new Error("Every dependency must be a string");this.props.getDependenciesFromJsonFile(t)}catch(a){this.props.searchError(se.FILE_READ_ERROR),Ke.a.error(a.message)}}}},{key:"readFile",value:function(){var e=this.inputRef.current;e.files&&e.files[0]&&(this.fileReader.onloadstart=this.uploadStart,this.fileReader.onload=this.onFileLoaded,this.fileReader.onerror=this.onError,this.fileReader.readAsText(e.files[0]))}},{key:"render",value:function(){return window.FileReader?r.a.createElement("div",{className:"upload"},r.a.createElement("input",{hidden:!0,type:"file",accept:"application/JSON",ref:this.inputRef,onChange:this.readFile}),r.a.createElement(x.a,{icon:r.a.createElement(Le.a,null),onClick:this.triggerUpload},"Upload package.json")):null}}]),n}(r.a.Component),Je={getDependenciesFromJsonFile:function(e){return function(t){var n=Object.keys(e.dependencies);t(function(e){var t=e.name,n=e.version,a=e.dependencies,r=e.description,o=null;return e.homepage&&(o={homepage:e.homepage}),{type:"SET_PACKAGE_INFO",packageInfo:{name:t,version:n||"Unknown",dependencies:a,description:r,links:o,stars:null,forks:null,quality:null,popularity:null,downloads:null,dependents:null}}}(e)),ve.getDependenciesFromFile(e.name,n,(function(e,n,a){t(we(e,n,a))})).then((function(n){var a=ue(e.name,n);t({type:"SEARCH_FINISHED"}),t(ne(a));var r=de.getEntries(),o=de.getSize();t(ye(r,o))}),(function(e){console.error(e),t(Re(se.FILE_READ_ERROR))}))}},searchStart:be,searchFinished:ke,searchError:Re,clearPackageInfo:le},De=Object(S.b)(null,Je)(Qe),_e=(n(556),n(572)),Te=n(578),He=n(584),Ue=function(e){Object(g.a)(n,e);var t=Object(d.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).state={inputValue:"",isInputFocused:!1,suggestions:[]},a.inputRef=r.a.createRef(),a.onSearch=a.onSearch.bind(Object(u.a)(a)),a.updateInputValue=a.updateInputValue.bind(Object(u.a)(a)),a.onInputFocus=a.onInputFocus.bind(Object(u.a)(a)),a.onInputBlur=a.onInputBlur.bind(Object(u.a)(a)),a.renderSuggestions=a.renderSuggestions.bind(Object(u.a)(a)),a.onMenuItemClick=a.onMenuItemClick.bind(Object(u.a)(a)),a.onEscPress=a.onEscPress.bind(Object(u.a)(a)),a.getSuggestions=Pe(a.getSuggestions.bind(Object(u.a)(a)),250);var o=h()(N.getState,"search.searchQuery");return a.unsubscribe=N.subscribe(o((function(e){return a.setState({inputValue:e||""})}))),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){document.addEventListener("keyup",this.onEscPress)}},{key:"componentWillUnmount",value:function(){this.unsubscribe(),document.removeEventListener("keyup",this.onEscPress)}},{key:"onEscPress",value:function(e){"Escape"===e.key&&this.inputRef.current.blur()}},{key:"updateInputValue",value:function(e){var t=e.target.value;this.setState({inputValue:t,suggestions:[]}),(t=t.trim())&&this.getSuggestions(t)}},{key:"onInputFocus",value:function(){this.setState({isInputFocused:!0})}},{key:"onInputBlur",value:function(){var e=this;setTimeout((function(){e.setState({isInputFocused:!1})}),150)}},{key:"onSearch",value:function(e){var t=e.target.value.trim();t&&t!==this.props.searchQuery&&(e.target.blur(),this.props.searchPackage(t),this.setState({inputValue:t}))}},{key:"onMenuItemClick",value:function(e){var t=e.item.props.packagename;this.setState({inputValue:t}),this.props.searchPackage(t)}},{key:"getSuggestions",value:function(e){var t=this;ve.getSuggestions(e).then((function(e){return t.setState({suggestions:e})}))}},{key:"renderSuggestions",value:function(){return this.state.inputValue.trim()&&this.state.isInputFocused&&0!==this.state.suggestions.length?r.a.createElement(_e.a,{onClick:this.onMenuItemClick,className:"search-input--menu"},this.state.suggestions.map((function(e,t){return r.a.createElement(_e.a.Item,{key:t,packagename:e.name,className:"search-input--menu-item"},e.name,r.a.createElement("small",null,e.description))}))):null}},{key:"render",value:function(){return r.a.createElement("div",{className:"search-input"},r.a.createElement(Te.a,{value:this.state.inputValue,className:"input-search",placeholder:"Search...",size:"large",prefix:r.a.createElement(He.a,null),onPressEnter:this.onSearch,onChange:this.updateInputValue,ref:this.inputRef,onBlur:this.onInputBlur,onFocus:this.onInputFocus}),this.renderSuggestions())}}]),n}(r.a.Component),Me={searchPackage:Ne},qe=Object(S.b)((function(e){return{searchQuery:e.search.searchQuery}}),Me)(Ue),Xe=q.a.Sider,Ve=function(e){Object(g.a)(n,e);var t=Object(d.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).state={isOpen:window.innerWidth<=650,isMobile:window.innerWidth<=650},a.toggleMenu=a.toggleMenu.bind(Object(u.a)(a)),a.onResize=Pe(a.onResize.bind(Object(u.a)(a)),500),a.renderConfirmPopper=a.renderConfirmPopper.bind(Object(u.a)(a)),a}return Object(l.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"toggleMenu",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"onResize",value:function(){this.setState({isMobile:window.innerWidth<=650})}},{key:"renderConfirmPopper",value:function(){var e=this.props.cache,t=e.size,n=e.entries,a=0===n;return r.a.createElement(X.a,{icon:r.a.createElement(Y.a,{style:{color:a?"green":"red"}}),title:a?"Nothing here yet. We cache packages to speed up load times.":"Are you sure? Loading may be slower.",placement:"topLeft",cancelText:"Cancel",onConfirm:function(){return setTimeout(de.clear,500)}},r.a.createElement("div",{className:"menu-footer"},r.a.createElement("small",null,"Clear cache: ",t.toFixed(2)," KB"),r.a.createElement("small",null,n," entries")))}},{key:"render",value:function(){return r.a.createElement("div",{className:"menu"},this.state.isOpen?r.a.createElement(x.a,{className:"menu-open-btn",icon:r.a.createElement($.a,null),size:"large",onClick:this.toggleMenu}):null,r.a.createElement(Xe,{collapsible:!0,theme:"light",collapsedWidth:0,collapsed:this.state.isOpen,className:"sider",width:this.state.isMobile?"100vw":"22em",trigger:null},r.a.createElement(x.a,{size:"large",icon:r.a.createElement(ee.a,null),className:"menu-close-btn",onClick:this.toggleMenu}),r.a.createElement("div",{className:"menu-content"},r.a.createElement(qe,null),r.a.createElement(V.a,{className:"stats",justify:"center",align:"middle"},r.a.createElement(G.a,{span:12},r.a.createElement(W.a,{title:"All Dependencies",value:this.props.packagesLoaded})),r.a.createElement(G.a,{span:12,className:"stat-remaining"},r.a.createElement(W.a,{title:"Remaining",value:this.props.packagesRemaining}))),r.a.createElement(Z.a,{type:"horizontal",className:"divider"}),r.a.createElement(je,{onDependencyClick:this.props.searchPackage}),r.a.createElement(De,null),this.renderConfirmPopper(),r.a.createElement("div",{className:"menu-footer"},r.a.createElement("small",null,r.a.createElement("a",{href:"https://github.com/ctcuff/dependency-visualizer",target:"_blank",rel:"noopener noreferrer"},"View source on GitHub")),r.a.createElement("small",null,r.a.createElement(te.a,null))))))}}]),n}(r.a.Component),Ge={searchPackage:Ne},We=Object(S.b)((function(e){return{isLoading:e.search.isLoading,packagesLoaded:e.search.packagesLoaded,packagesRemaining:e.search.packagesRemaining,cache:e.search.cache}}),Ge)(Ve),Ze=(n(567),n(259)),Ye=n.n(Ze),$e=n(260),et=n.n($e),tt=n(261),nt=n.n(tt),at=O.a.Title,rt=Object(S.b)((function(e){return{errorCode:e.search.errorCode}}))((function(e){if(!e.errorCode)return null;var t,n,a,o;switch(e.errorCode){case se.NOT_FOUND:t=Ye.a,n="Module not found",a="\n                We searched through time and space but couldn't\n                find the module you were looking for.\n            ",o="\n                Check your spelling and try again. Not trying to make you feel\n                bad or anything, but hey, we all make mistakes. I can't tell\n                you how many times I've misspelled Wednesday. Am I the only\n                person who has to sound it out?\n            ";break;case se.FILE_READ_ERROR:t=et.a,n="Error reading file",a="You're file couldn't be parsed.",o="\n                Listen, we know how to read, but words are hard sometimes.\n                Are you sure the file you uploaded is valid JSON? Make sure\n                your file is valid and try again.\n            ";break;default:t=nt.a,n="We tripped up!",a="An unknown error occurred.",o="\n                Well this is awkward... Usually you're not supposed to\n                see this message. Either something crazy happened, or the\n                world is about to end. If the latter, why not try to knock off\n                some items on your bucket list?\n            "}return r.a.createElement("div",{className:"error-overlay"},r.a.createElement(z.a,{image:t,imageStyle:{height:"22em"},description:null},r.a.createElement("div",null,r.a.createElement(at,{level:2},n),r.a.createElement("p",null,a),r.a.createElement("p",{className:"message"},o))))})),ot=q.a.Content;de.init();var st=Object(S.b)((function(e){return{isLoading:e.search.isLoading,errorCode:e.search.errorCode}}))((function(e){return r.a.createElement(q.a,{className:"app"},r.a.createElement(We,null),r.a.createElement(q.a,{className:"content"},r.a.createElement(ot,null,e.isLoading||e.errorCode?null:r.a.createElement(_,null),r.a.createElement(M,null),r.a.createElement(rt,null))))}));s.a.render(r.a.createElement(S.a,{store:N},r.a.createElement(r.a.StrictMode,null,r.a.createElement(st,null))),document.getElementById("root"))}},[[264,1,2]]]);
//# sourceMappingURL=main.5487723f.chunk.js.map