{"version":3,"sources":["static/empty.png","static/404.png","static/error-cone.png","static/error-tripped.png","store/actions/graph.js","store/actions/types.js","util/errors.js","store/actions/package.js","api/dependencies.js","store/actions/search.js","util/cache.js","store/reducers/search.js","store/reducers/graph.js","store/reducers/package.js","store/index.js","components/DependencyGraph/config.js","components/DependencyGraph/index.js","components/LoadingOverlay/index.js","components/PackageInfo/index.js","util/debounce.js","components/Upload/index.js","components/Menu/index.js","components/ErrorOverlay/index.js","components/App/index.js","index.js"],"names":["module","exports","updateGraphData","data","type","Errors","NOT_FOUND","BAD_REQUEST","FILE_READ_ERROR","UNKNOWN_ERROR","setPackageInfo","stars","forks","links","metadata","collected","name","description","version","dependencies","evaluation","popularity","downloadsCount","dependentsCount","score","detail","quality","github","starsCount","forksCount","packageInfo","downloads","Math","floor","dependents","round","packageInfoError","errorCode","clearPackageInfo","Graph","graphlib","noop","getDependencies","packageName","onProgressUpdate","a","doesPackageExist","Error","root","directed","setNode","_getDependencies","getDependenciesFromFile","result","Set","i","length","setEdge","seen","remaining","getDependenciesFromCache","getPackageDependencies","res","status","promises","cacheDependencies","dep","push","then","add","pop","size","Promise","all","resolve","fetch","encodeURIComponent","catch","reject","json","latestVersion","latest","versionInfo","versions","Object","keys","err","API","graphToJson","graph","nodes","edges","forEach","nodeName","id","label","edge","from","v","to","w","rootNodeId","searchStart","query","searchFinished","searchError","updateCacheSize","cacheSize","getCacheSize","updateSearchProgress","packagesRemaining","packagesLoaded","currentPackageLoaded","storedAt","Date","now","localStorage","setItem","JSON","stringify","clearHalfCache","store","dispatch","cache","getItem","parse","Array","console","error","total","item","hasOwnProperty","clearCache","clear","key","includes","sort","b","ceil","removeItem","initialState","isLoading","searchQuery","searchReducer","state","action","graphReducer","packageReducer","storeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducer","combineReducers","search","package","createStore","applyMiddleware","thunk","defaultOptions","shape","layout","improvedLayout","smooth","arrows","enabled","scaleFactor","physics","maxVelocity","solver","timestep","forceAtlas2Based","gravitationalConstant","centralGravity","springLength","springConstant","avoidOverlap","stabilization","iterations","updateInterval","interaction","hideEdgesOnDrag","hideEdgesOnZoom","optimizedOptions","scaling","min","max","width","Title","Typography","DependencyGraph","props","containerRef","React","createRef","centerButtonRef","network","dataset","DataSet","graphLoadProgress","nodesLoaded","nodesRemaining","isHighlightActive","graphPosition","graphScale","onStabilizationProgress","bind","onStabilizationIterationsDone","renderEmpty","highlightChildren","recenterGraph","watcher","watch","getState","deepEqual","unsubscribe","subscribe","newValue","updateGraph","this","destroy","container","current","Network","on","toggleCenterButton","update","setOptions","setData","redraw","setState","getViewPosition","getScale","moveTo","position","scale","show","style","display","params","get","returnType","selectedNode","color","undefined","hiddenLabel","hidden","connectedNodes","getConnectedNodes","updatedNodes","updatedEdges","className","image","imageStyle","height","level","placement","title","icon","SyncOutlined","onClick","ref","Component","connect","messages","random","Panel","Collapse","PackageLinks","target","rel","href","map","index","Fragment","GitHubStats","justify","align","span","value","DownloadStats","QualityStats","gutter","percent","format","Dependencies","deps","bordered","expandIconPosition","header","onDependencyClick","message","debounce","func","wait","timeout","context","args","arguments","later","apply","clearTimeout","setTimeout","Upload","inputRef","triggerUpload","readFile","uploadStart","onFileLoaded","onError","FileReader","fileReader","click","content","getDependenciesFromJsonFile","input","files","onloadstart","onload","onerror","readAsText","accept","onChange","UploadOutlined","mapDispatchToProps","homepage","setPackageInfoFromJson","finally","Sider","Layout","Menu","isOpen","innerWidth","isMobile","inputValue","onSearch","toggleMenu","onResize","renderConfirmPopper","updateInput","addEventListener","removeEventListener","event","trim","blur","searchPackage","itemsCleared","success","isCacheEmpty","DeleteOutlined","cancelText","onConfirm","toFixed","MenuOutlined","collapsible","theme","collapsedWidth","collapsed","trigger","LeftOutlined","placeholder","prefix","SearchOutlined","onPressEnter","GithubFilled","errorTitle","errorDescription","errorMessage","error404","errorCone","errorTripped","Content","useEffect","lastAccessed","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.eab60f1a.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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+/btvVzioudu2bLlor/mF7oXUHrd29U686OPPqp1fKcHV0Xw3XffdXp4K8d9+OGHfbtPvxy7feBdu3YVp0+f7vb0S543bFkv+bBX0C8qvRaGVX3XwcmTJ/t2pz179vTt2t1c+IcffujmtI7OScpaOZ49e7YjFwd1LqD0Orfq+sgjR450fW4nJ1bf1jVMr37mTcpalmWxf//+YRrtVfEsSq+FMV57bX+/xbn6c6VhevUz77BlHT16dF/pz5w509frJ15c6bUw9WnTpvX1LjNmzOjr9etevJ95k7JW7sOWt+4uDOPxSq+FqUyZMqUYP3583+50++239+3a3Vx49uzZ3ZzW0TnDlnXWrFkdPXc3B02ePLmYMGFCN6c65xICSu8SOE3+0uLFi5u83N/Xqt4YCxYs+Pu/h+EHTz75ZN8e46mnnurbtbu58MMPP1xUM+jHq/pIMa/mBZRe86b/esXnn3/+X3++159csWJF0e8/V6r7jI899lhx88031z3tssdXn7n3yCOPXPa4Ng8YM2bMyGcA9uOey5cv78dl46+p9FpageoDI6sPBG3yNXbs2OLll19u8pKNXeull15q7FrnL/TKK6+c/+FQ/XvdunXFqFHNvpUeeOCBofsd/FCh9/AwzU6qhwdJOHXDhg2Nxly5cuXIp/A2etGGLvbiiy8WU6dObehqxcinKa9evbqx6zV5oZkzZxbLli1r8pLF66+/3uj1XOwCgZzvuBuOpKtXr27k+zTvvvvu8o8//hiOUBd5is8//7wcPXp0z3mvu+66of8+1Oqz9O68886es1bfc/vqq69eRNRPNyHgAweaUKx5jaeffrqnN8ddd91VHjx4sOZdB3P422+/3VPWcePGle+///5gHr7mXX/88cdy5syZPeVdsWJFzbs6vK6A0qsr1tDxb775Zlm9oet+4sqaNWsaeoL2LrNnz55y7ty5tbPed999ZVUkV9Lr999/L7v51JXqw1a3b99+JUW9Yp9V6Q1wdIcOHSoXL17cURlU/zv79ddfD/Bpe7v1mTNnyupj8jsp+okTJ458bPq5c+d6u+kAz961a1c5a9asjmZbleSRI0cG+LRZt76minvBH/H54QAEqk9JqT5G6IsvvijOnTv3jyeYN29e8cwzz1w1f1Xg8ePHi507dxY7duz4vw9hqL7e7dlnny0ef/zx4sYbb/yHw5X6H5988knxzjvvjPzVnhdmqL5Vr/rym+qvvOznF3NfeE8//q+A0rMJBAhECfiSlahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAwH8AnNjILlDWW6AAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/404.9cf0a1ad.png\";","module.exports = __webpack_public_path__ + \"static/media/error-cone.b85c2c68.png\";","module.exports = __webpack_public_path__ + \"static/media/error-tripped.7bd78359.png\";","import { UPDATE_GRAPH_DATA } from './types'\n\nconst updateGraphData = data => ({\n    type: UPDATE_GRAPH_DATA,\n    data\n})\n\nexport { updateGraphData }\n","const SEARCH_STARTED = 'SEARCH_STARTED'\nconst SEARCH_PROGRESS = 'SEARCH_PROGRESS'\nconst SEARCH_FINISHED = 'SEARCH_FINISHED'\nconst SEARCH_ERROR = 'SEARCH_ERROR'\nconst SEARCH_UPDATE_CACHE_SIZE = 'SEARCH_UPDATE_CACHE_SIZE'\n\nconst LOAD_GRAPH_DATA = 'LOAD_GRAPH_DATA'\nconst UPDATE_GRAPH_DATA = 'UPDATE_GRAPH_DATA'\n\nconst PACKAGE_INFO_SEARCH_START = 'PACKAGE_INFO_SEARCH_START'\nconst PACKAGE_INFO_ERROR = 'PACKAGE_INFO_ERROR'\nconst SET_PACKAGE_INFO = 'SET_PACKAGE_INFO'\nconst CLEAR_PACKAGE_INFO = 'CLEAR_PACKAGE_INFO'\n\n// prettier-ignore\nexport {\n    SEARCH_STARTED,\n    SEARCH_PROGRESS,\n    SEARCH_FINISHED,\n    SEARCH_ERROR,\n    SEARCH_UPDATE_CACHE_SIZE,\n\n    LOAD_GRAPH_DATA,\n    UPDATE_GRAPH_DATA,\n\n    PACKAGE_INFO_SEARCH_START,\n    PACKAGE_INFO_ERROR,\n    SET_PACKAGE_INFO,\n    CLEAR_PACKAGE_INFO\n}\n","const Errors = {\n    NOT_FOUND: 404,\n    // This can occur when a user searches for a package\n    // with invalid characters\n    BAD_REQUEST: 400,\n    FILE_READ_ERROR: -1,\n    UNKNOWN_ERROR: -2\n}\n\nexport default Errors\n","import {\n    SET_PACKAGE_INFO,\n    CLEAR_PACKAGE_INFO,\n    PACKAGE_INFO_ERROR,\n    PACKAGE_INFO_SEARCH_START\n} from './types'\nimport Errors from '../../util/errors'\n\nconst setPackageInfo = data => {\n    let stars = null\n    let forks = null\n    let links = {}\n    const metadata = data.collected.metadata\n    const { name, description, version, dependencies } = metadata\n    const { downloadsCount, dependentsCount } = data.evaluation.popularity\n    const { quality, popularity } = data.score.detail\n\n    if (data.collected.github) {\n        stars = data.collected.github.starsCount\n        forks = data.collected.github.forksCount\n    }\n\n    if (data.collected.metadata.links) {\n        links = data.collected.metadata.links\n    }\n\n    return {\n        type: SET_PACKAGE_INFO,\n        packageInfo: {\n            name,\n            description,\n            version,\n            dependencies: dependencies || [],\n            downloads: Math.floor(downloadsCount),\n            dependents: Math.floor(dependentsCount),\n            stars,\n            forks,\n            quality: Math.round(quality * 100),\n            popularity: Math.round(popularity * 100),\n            links\n        }\n    }\n}\n\nconst setPackageInfoFromJson = json => {\n    const { name, version, dependencies, description, homepage } = json\n    let links = null\n\n    if (homepage) {\n        links = {\n            homepage: json.homepage\n        }\n    }\n\n    return {\n        type: SET_PACKAGE_INFO,\n        packageInfo: {\n            name,\n            version: version || 'Unknown',\n            dependencies,\n            description,\n            links,\n            stars: null,\n            forks: null,\n            quality: null,\n            popularity: null,\n            downloads: null,\n            dependents: null\n        }\n    }\n}\n\nconst packageSearchStart = () => ({\n    type: PACKAGE_INFO_SEARCH_START\n})\n\nconst packageInfoError = errorCode => ({\n    type: PACKAGE_INFO_ERROR,\n    errorCode\n})\n\nconst getPackageInfo = packageName => {\n    return dispatch => {\n        dispatch(packageSearchStart())\n\n        fetch(`https://api.npms.io/v2/package/${encodeURIComponent(packageName)}`).then(\n            async res => {\n                if (res.status !== 200) {\n                    dispatch(packageInfoError(res.status))\n                    return\n                }\n                const data = await res.json()\n                dispatch(setPackageInfo(data))\n            },\n            error => {\n                // eslint-disable-next-line no-console\n                console.error(error)\n                // Some unknown error occurred\n                dispatch(packageInfoError(Errors.UNKNOWN_ERROR))\n            }\n        )\n    }\n}\n\nconst clearPackageInfo = () => ({ type: CLEAR_PACKAGE_INFO })\n\nexport { setPackageInfo, clearPackageInfo, getPackageInfo, setPackageInfoFromJson }\n","import { graphlib } from 'dagre'\nimport { getDependenciesFromCache, cacheDependencies } from '../util/cache'\n\nconst Graph = graphlib.Graph\nconst noop = () => {}\n\n/**\n * Searches for every dependency a package relies on,\n * but only if that package is found on npm's registry api.\n *\n * @param {String} packageName\n * @param {Function} onProgressUpdate\n */\nconst getDependencies = async (packageName, onProgressUpdate) => {\n    // Since _getPackageDependencies doesn't fail when it receives\n    // a 404, we need to check if the package actually exists first\n    const exists = await doesPackageExist(packageName)\n\n    if (!exists) {\n        throw new Error('Not found')\n    }\n\n    const root = new Graph({ directed: true })\n\n    root.setNode(packageName)\n\n    await _getDependencies(packageName, root, onProgressUpdate)\n\n    return root\n}\n\n/**\n * Searches for every dependency from a package.json file.\n * Note that this function doesn't care about 404 errors it might get\n * from searching the npm registry.\n *\n * @param {String} packageName\n * @param {String[]} dependencies\n * @param {Function} onProgressUpdate\n */\nconst getDependenciesFromFile = async (packageName, dependencies, onProgressUpdate) => {\n    const root = new Graph({ directed: true })\n    const result = new Set()\n\n    root.setNode(packageName)\n\n    for (let i = 0; i < dependencies.length; i++) {\n        root.setEdge(packageName, dependencies[i])\n        await _getDependencies(dependencies[i], root, onProgressUpdate, result)\n    }\n\n    return root\n}\n\n/**\n * Recursively makes requests to the npm registry api to get all dependencies\n * of a package. Requests are added to a promise stack then are removed when\n * the request completes. Once the stack is empty and all requests have\n * completed, the function returns\n *\n * @param {String} name - The name of the package to search\n * @param {graphlib.Graph} root - Used to build a graph of dependencies\n * @param {Function} onProgressUpdate - Called when a request completes\n * @param {Set} result - Used to keep track of what dependencies this package has\n * @param {Object} seen - Used to make sure duplicate requests aren't made\n * @param {Array} remaining - Used to keep track of what requests still need to be made\n */\nconst _getDependencies = async (\n    name,\n    root,\n    onProgressUpdate = noop,\n    result = new Set(),\n    seen = {},\n    remaining = []\n) => {\n    // Don't load modules that have already been requested\n    if (seen[name]) {\n        return\n    }\n\n    seen[name] = true\n\n    let dependencies = getDependenciesFromCache(name)\n\n    if (!dependencies) {\n        const res = await getPackageDependencies(name)\n        if (res.status !== 200) {\n            return\n        }\n        dependencies = res.dependencies\n    }\n\n    const promises = []\n\n    // Add this module's dependencies to localStorage\n    // so we can look it up faster\n    cacheDependencies(name, dependencies)\n\n    for (let i = 0; i < dependencies.length; i++) {\n        const dep = dependencies[i]\n        remaining.push(dep)\n\n        // Add each dependency call to a promise stack so we\n        // can make multiple requests instead of waiting\n        // for each individual request to complete\n        promises.push(\n            _getDependencies(dep, root, onProgressUpdate, result, seen, remaining).then(\n                () => {\n                    result.add(dep)\n                    root.setEdge(name, dep)\n                    remaining.pop()\n\n                    onProgressUpdate(remaining.length, result.size, name)\n                }\n            )\n        )\n    }\n\n    return Promise.all(promises)\n}\n\nconst doesPackageExist = packageName => {\n    return new Promise(resolve => {\n        fetch(`https://registry.npmjs.cf/${encodeURIComponent(packageName)}`)\n            .then(res => resolve(res.status === 200))\n            .catch(() => resolve(false))\n    })\n}\n\nconst getPackageDependencies = packageName => {\n    return new Promise((resolve, reject) => {\n        const dependencies = getDependenciesFromCache(packageName)\n\n        if (dependencies) {\n            resolve(dependencies)\n            return\n        }\n\n        fetch(`https://registry.npmjs.cf/${encodeURIComponent(packageName)}`)\n            .then(async res => {\n                // Resolve the error status instead of rejecting so we can\n                // keep recursively searching for packages in other functions\n                // without making Promise.all fail\n                if (res.status !== 200) {\n                    resolve({\n                        dependencies: [],\n                        status: res.status\n                    })\n                    return\n                }\n                res = await res.json()\n\n                const latestVersion = res['dist-tags'].latest\n                const versionInfo = res.versions[latestVersion]\n\n                resolve({\n                    dependencies: Object.keys(versionInfo.dependencies || []),\n                    status: 200\n                })\n            })\n            .catch(err => reject(err))\n    })\n}\n\n/**\n * Turns a dagre graph object into a js object that can be parsed by vis.\n * The js object looks like this:\n *\n * ```\n * {\n *       \"rootNodeId\": \"cookies\",\n *       \"nodes\": [\n *          {\n *             \"id\": \"cookies\",\n *             \"label\": \"cookies\"\n *          },\n *          {\n *             \"id\": \"depd\",\n *             \"label\": \"depd\"\n *          },\n *          {\n *             \"id\": \"keygrip\",\n *             \"label\": \"keygrip\"\n *          },\n *          {\n *             \"id\": \"tsscmp\",\n *             \"label\": \"tsscmp\"\n *          }\n *       ],\n *       \"edges\": [\n *          {\n *             \"from\": \"cookies\",\n *             \"to\": \"depd\"\n *          },\n *          {\n *             \"from\": \"cookies\",\n *             \"to\": \"keygrip\"\n *          },\n *          {\n *             \"from\": \"keygrip\",\n *             \"to\": \"tsscmp\"\n *          }\n *       ]\n * }\n *```\n */\nconst graphToJson = (packageName, graph) => {\n    const nodes = []\n    const edges = []\n\n    graph.nodes().forEach(nodeName => {\n        nodes.push({\n            id: nodeName,\n            label: nodeName\n        })\n    })\n\n    graph.edges().forEach(edge => {\n        edges.push({\n            from: edge.v,\n            to: edge.w\n        })\n    })\n\n    return {\n        rootNodeId: packageName,\n        nodes,\n        edges\n    }\n}\n\nconst API = {\n    getDependencies,\n    getDependenciesFromFile,\n    graphToJson\n}\n\nexport default API\n","import {\n    SEARCH_STARTED,\n    SEARCH_PROGRESS,\n    SEARCH_FINISHED,\n    SEARCH_ERROR,\n    SEARCH_UPDATE_CACHE_SIZE\n} from './types'\nimport { updateGraphData } from './graph'\nimport { clearPackageInfo, getPackageInfo, setPackageInfoFromJson } from './package'\nimport { getCacheSize } from '../../util/cache'\nimport API from '../../api/dependencies'\nimport Errors from '../../util/errors'\n\nconst searchStart = query => ({\n    type: SEARCH_STARTED,\n    query\n})\n\nconst searchFinished = () => ({\n    type: SEARCH_FINISHED\n})\n\nconst searchError = errorCode => ({\n    type: SEARCH_ERROR,\n    errorCode\n})\n\nconst updateCacheSize = () => ({\n    type: SEARCH_UPDATE_CACHE_SIZE,\n    cacheSize: getCacheSize()\n})\n\nconst updateSearchProgress = (packagesRemaining, packagesLoaded, packageName) => ({\n    type: SEARCH_PROGRESS,\n    packagesLoaded,\n    packagesRemaining,\n    currentPackageLoaded: packageName\n})\n\nconst searchPackage = query => {\n    return dispatch => {\n        dispatch(clearPackageInfo())\n        dispatch(searchStart(query))\n        dispatch(getPackageInfo(query))\n\n        const onProgressUpdate = (packagesRemaining, packagesLoaded, packageName) => {\n            dispatch(updateSearchProgress(packagesRemaining, packagesLoaded, packageName))\n        }\n\n        // Not using catch here since errors in dispatch\n        // might trigger the catch block\n        API.getDependencies(query, onProgressUpdate)\n            .then(\n                async graph => {\n                    const data = API.graphToJson(query, graph)\n                    dispatch(searchFinished())\n                    dispatch(updateGraphData(data))\n                },\n                error => {\n                    // eslint-disable-next-line no-console\n                    console.error(error)\n                    dispatch(searchError(Errors.NOT_FOUND))\n                }\n            )\n            .finally(() => {\n                dispatch(updateCacheSize())\n            })\n    }\n}\n\nconst getDependenciesFromJsonFile = json => {\n    return dispatch => {\n        const onProgressUpdate = (packagesRemaining, packagesLoaded, packageName) => {\n            dispatch(updateSearchProgress(packagesRemaining, packagesLoaded, packageName))\n        }\n\n        const dependencies = Object.keys(json.dependencies)\n\n        dispatch(setPackageInfoFromJson(json))\n\n        API.getDependenciesFromFile(json.name, dependencies, onProgressUpdate)\n            .then(\n                graph => {\n                    const data = API.graphToJson(json.name, graph)\n                    dispatch(searchFinished())\n                    dispatch(updateGraphData(data))\n                },\n                error => {\n                    // eslint-disable-next-line no-console\n                    console.error(error)\n                    dispatch(searchError(Errors.FILE_READ_ERROR))\n                }\n            )\n            .finally(() => {\n                dispatch(updateCacheSize())\n            })\n    }\n}\n\nexport {\n    searchPackage,\n    updateCacheSize,\n    getDependenciesFromJsonFile,\n    searchStart,\n    searchFinished,\n    searchError\n}\n","import store from '../store'\nimport { updateCacheSize } from '../store/actions/search'\n\nconst cacheDependencies = (packageName, dependencies) => {\n    const data = {\n        dependencies,\n        storedAt: Date.now()\n    }\n\n    try {\n        localStorage.setItem('lastAccessed', Date.now())\n        localStorage.setItem(packageName, JSON.stringify(data))\n    } catch (err) {\n        clearHalfCache()\n        store.dispatch(updateCacheSize())\n    }\n}\n\nconst getDependenciesFromCache = packageName => {\n    const cache = localStorage.getItem(packageName)\n\n    if (!cache) {\n        return null\n    }\n\n    try {\n        const dependencies = JSON.parse(cache).dependencies\n        return Array.from(dependencies)\n    } catch (err) {\n        // eslint-disable-next-line no-console\n        console.error('Error parsing cache', err)\n        return null\n    }\n}\n\n/**\n * Returns the size of localStorage in kilobytes\n */\nconst getCacheSize = () => {\n    let total = 0\n\n    for (const item in localStorage) {\n        if (!localStorage.hasOwnProperty(item)) {\n            continue\n        }\n\n        total += (localStorage[item].length + item.length) * 2\n    }\n\n    return total / 1024\n}\n\nconst clearCache = () => {\n    const length = localStorage.length\n\n    localStorage.clear()\n    store.dispatch(updateCacheSize())\n\n    return length\n}\n\n/**\n * Removes the oldest half of the cache. Useful for when the cache gets\n * full but we don't want to completely empty it\n */\nconst clearHalfCache = () => {\n    const cache = []\n\n    for (const key in localStorage) {\n        let item = localStorage.getItem(key)\n\n        if (item && item.includes('dependencies')) {\n            try {\n                item = JSON.parse(item)\n                cache.push({\n                    key,\n                    storedAt: item.storedAt\n                })\n            } catch (err) {\n                // eslint-disable-next-line no-console\n                console.error('Error retrieving dependency from cache', err)\n            }\n        }\n    }\n\n    cache.sort((a, b) => a.storedAt - b.storedAt)\n\n    for (let i = 0; i < Math.ceil(cache.length / 2); i++) {\n        localStorage.removeItem(cache[i].key)\n    }\n}\n\nexport { cacheDependencies, getDependenciesFromCache, getCacheSize, clearCache }\n","import {\n    SEARCH_STARTED,\n    SEARCH_PROGRESS,\n    SEARCH_FINISHED,\n    SEARCH_ERROR,\n    SEARCH_UPDATE_CACHE_SIZE\n} from '../actions/types'\nimport { getCacheSize } from '../../util/cache'\n\nconst initialState = {\n    isLoading: false,\n    searchQuery: '',\n    packagesRemaining: 0,\n    packagesLoaded: 0,\n    currentPackageLoaded: '',\n    errorCode: null,\n    cacheSize: getCacheSize()\n}\n\nconst searchReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SEARCH_STARTED:\n            return {\n                ...state,\n                isLoading: true,\n                searchQuery: action.query,\n                packagesRemaining: 0,\n                packagesLoaded: 0,\n                errorCode: null,\n                currentPackageLoaded: ''\n            }\n        case SEARCH_PROGRESS:\n            return {\n                ...state,\n                packagesRemaining: action.packagesRemaining,\n                packagesLoaded: action.packagesLoaded,\n                currentPackageLoaded: action.currentPackageLoaded\n            }\n        case SEARCH_FINISHED:\n            return {\n                ...state,\n                isLoading: false,\n                errorCode: null\n            }\n        case SEARCH_ERROR:\n            return {\n                ...state,\n                isLoading: false,\n                errorCode: action.errorCode\n            }\n        case SEARCH_UPDATE_CACHE_SIZE:\n            return {\n                ...state,\n                cacheSize: action.cacheSize\n            }\n        default:\n            return state\n    }\n}\n\nexport default searchReducer\n","import { UPDATE_GRAPH_DATA } from '../actions/types'\n\nconst initialState = {\n    rootNodeId: '',\n    nodes: [],\n    edges: []\n}\n\nconst graphReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case UPDATE_GRAPH_DATA:\n            return {\n                ...action.data\n            }\n        default:\n            return state\n    }\n}\n\nexport default graphReducer\n","import {\n    SET_PACKAGE_INFO,\n    CLEAR_PACKAGE_INFO,\n    PACKAGE_INFO_ERROR,\n    PACKAGE_INFO_SEARCH_START\n} from '../actions/types'\n\nconst initialState = {\n    errorCode: null,\n    isLoading: false,\n    packageInfo: null\n}\n\nconst packageReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_PACKAGE_INFO:\n            return {\n                ...initialState,\n                packageInfo: {\n                    ...action.packageInfo\n                }\n            }\n        case CLEAR_PACKAGE_INFO:\n            return {\n                ...initialState\n            }\n        case PACKAGE_INFO_SEARCH_START:\n            return {\n                ...initialState,\n                isLoading: true\n            }\n        case PACKAGE_INFO_ERROR:\n            return {\n                ...initialState,\n                errorCode: action.errorCode\n            }\n        default:\n            return state\n    }\n}\n\nexport default packageReducer\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport searchReducer from './reducers/search'\nimport graphReducer from './reducers/graph'\nimport packageReducer from './reducers/package'\n\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst reducer = combineReducers({\n    search: searchReducer,\n    graph: graphReducer,\n    package: packageReducer\n})\n\nconst store = createStore(reducer, storeEnhancers(applyMiddleware(thunk)))\n\nexport default store\n","// See: https://visjs.github.io/vis-network/docs/network/\n// for detailed config info\n\nconst defaultOptions = {\n    nodes: {\n        shape: 'dot',\n        size: 12\n    },\n    layout: {\n        improvedLayout: false\n    },\n    edges: {\n        smooth: {\n            type: 'continuous'\n        },\n        arrows: {\n            to: {\n                enabled: true,\n                scaleFactor: 0.5\n            },\n            from: {\n                enabled: false\n            }\n        }\n    },\n    physics: {\n        maxVelocity: 50,\n        solver: 'forceAtlas2Based',\n        timestep: 0.5,\n        forceAtlas2Based: {\n            gravitationalConstant: -26,\n            centralGravity: 0.005,\n            springLength: 230,\n            springConstant: 0.18,\n            avoidOverlap: 1\n        },\n        stabilization: {\n            enabled: true,\n            iterations: 500,\n            updateInterval: 1\n        }\n    },\n    interaction: {\n        hideEdgesOnDrag: true,\n        hideEdgesOnZoom: true\n    }\n}\n\n// Graph options that increase fps/rendering speeds\n// for larger data sets\nconst optimizedOptions = {\n    ...defaultOptions,\n    nodes: {\n        ...defaultOptions.nodes,\n        scaling: {\n            min: 10,\n            max: 30\n        }\n    },\n    edges: {\n        ...defaultOptions.edges,\n        width: 0.15\n    },\n    physics: {\n        ...defaultOptions.physics,\n        forceAtlas2Based: {\n            ...defaultOptions.physics.forceAtlas2Based,\n            avoidOverlap: 0\n        },\n        stabilization: {\n            updateInterval: 1\n        }\n    }\n}\n\nexport { defaultOptions, optimizedOptions }\n","import './dependency-graph.scss'\nimport React from 'react'\nimport watch from 'redux-watch'\nimport store from '../../store'\nimport { connect } from 'react-redux'\nimport deepEqual from 'deep-equal'\nimport { DataSet, Network } from 'vis-network/standalone'\nimport { Empty, Typography, Button, Tooltip } from 'antd'\nimport { SyncOutlined } from '@ant-design/icons'\nimport { optimizedOptions, defaultOptions } from './config'\nimport image from '../../static/empty.png'\n\nconst { Title } = Typography\n\n// The maximum number of nodes that can be rendered\n// before performance optimizations occur\nconst MAX_NODE_LIMIT = 250\n\nclass DependencyGraph extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.containerRef = React.createRef()\n        this.centerButtonRef = React.createRef()\n\n        this.network = null\n        this.dataset = {\n            nodes: new DataSet([]),\n            edges: new DataSet([])\n        }\n\n        this.state = {\n            graphLoadProgress: 0,\n            nodesLoaded: 0,\n            nodesRemaining: 0,\n            isHighlightActive: false,\n            graphPosition: null,\n            graphScale: null\n        }\n\n        this.onStabilizationProgress = this.onStabilizationProgress.bind(this)\n        this.onStabilizationIterationsDone = this.onStabilizationIterationsDone.bind(this)\n        this.renderEmpty = this.renderEmpty.bind(this)\n        this.highlightChildren = this.highlightChildren.bind(this)\n        this.recenterGraph = this.recenterGraph.bind(this)\n\n        const watcher = watch(store.getState, 'graph.rootNodeId', deepEqual)\n\n        // Watch a part of the store for changes in data\n        // so we can reload the graph\n        this.unsubscribe = store.subscribe(\n            watcher(newValue => {\n                this.updateGraph(newValue)\n            })\n        )\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe()\n        if (this.network) {\n            this.network.destroy()\n        }\n    }\n\n    componentDidMount() {\n        const container = this.containerRef.current\n\n        this.network = new Network(container, this.dataset, defaultOptions)\n\n        // Triggered when the graph starts trying to render nodes\n        this.network.on('stabilizationProgress', this.onStabilizationProgress)\n\n        // Triggered when the graph finishes rendering\n        this.network.on('stabilizationIterationsDone', this.onStabilizationIterationsDone)\n\n        this.network.on('hold', this.toggleCenterButton.bind(this, false))\n        this.network.on('dragStart', this.toggleCenterButton.bind(this, false))\n\n        this.network.on('release', this.toggleCenterButton.bind(this, true))\n        this.network.on('dragEnd', this.toggleCenterButton.bind(this, true))\n\n        this.network.on('click', this.highlightChildren)\n    }\n\n    updateGraph(rootNodeId) {\n        if (!this.network) {\n            return\n        }\n\n        this.dataset.nodes.clear()\n        this.dataset.edges.clear()\n\n        this.dataset.nodes.update(this.props.nodes)\n        this.dataset.edges.update(this.props.edges)\n\n        if (this.dataset.nodes.length >= MAX_NODE_LIMIT) {\n            this.network.setOptions({ ...optimizedOptions })\n        }\n\n        this.network.setData(this.dataset)\n        this.network.redraw()\n\n        this.dataset.nodes.update({\n            id: rootNodeId,\n            size: 32\n        })\n    }\n\n    onStabilizationProgress({ iterations, total }) {\n        this.setState({ graphLoadProgress: Math.round((iterations / total) * 100) })\n    }\n\n    onStabilizationIterationsDone() {\n        this.setState({\n            graphLoadProgress: 100,\n            graphPosition: this.network.getViewPosition(),\n            graphScale: this.network.getScale()\n        })\n\n        // Disabling physics after the graph renders lets us\n        // keep the graphs layout, but prevents nodes from\n        // moving when other nodes are dragged\n        this.network.setOptions({ physics: false })\n    }\n\n    recenterGraph() {\n        if (!this.state.graphPosition || !this.state.graphScale) {\n            return\n        }\n\n        this.network.moveTo({\n            position: this.state.graphPosition,\n            scale: this.state.graphScale\n        })\n    }\n\n    toggleCenterButton(show) {\n        if (!this.centerButtonRef || !this.centerButtonRef.current) {\n            return\n        }\n\n        this.centerButtonRef.current.style.display = show ? '' : 'none'\n    }\n\n    highlightChildren(params) {\n        const nodes = this.dataset.nodes.get({ returnType: 'Object' })\n        const edges = this.dataset.edges.get({ returnType: 'Object' })\n        const defaultColor = '#86b3fb'\n        const selectedNodeColor = '#1c51a0'\n        const inactiveColor = 'rgba(150, 150, 150, 0.25)'\n        const activeNodeSize = 32\n        const inactiveNodeSize = 12\n\n        // length will be > 0 if a node was selected\n        if (params.nodes.length > 0) {\n            this.setState({ isHighlightActive: true })\n\n            const selectedNode = params.nodes[0]\n\n            // Make any node that isn't the currently selected node or a child\n            // of the currently selected node grey\n            for (const id in nodes) {\n                nodes[id].color = inactiveColor\n                nodes[id].size = inactiveNodeSize\n\n                if (nodes[id].hiddenLabel === undefined) {\n                    nodes[id].hiddenLabel = nodes[id].label\n                    nodes[id].label = undefined\n                }\n            }\n\n            for (const id in edges) {\n                edges[id].hidden = false\n            }\n\n            // Get all nodes going from the selected node to its children\n            const connectedNodes = this.network.getConnectedNodes(selectedNode, 'to')\n\n            // Give color/label back to the children of the selected node\n            for (let i = 0; i < connectedNodes.length; i++) {\n                nodes[connectedNodes[i]].color = selectedNodeColor\n                if (nodes[connectedNodes[i]].hiddenLabel !== undefined) {\n                    nodes[connectedNodes[i]].label = nodes[connectedNodes[i]].hiddenLabel\n                    nodes[connectedNodes[i]].hiddenLabel = undefined\n                }\n            }\n\n            // Show edges that go from the selected node to its children\n            for (const id in edges) {\n                if (\n                    edges[id].from === selectedNode &&\n                    connectedNodes.includes(edges[id].to)\n                ) {\n                    continue\n                }\n                edges[id].hidden = true\n            }\n\n            // Give color/label back to the selected node\n            nodes[selectedNode].color = defaultColor\n            nodes[selectedNode].size = activeNodeSize\n\n            if (nodes[selectedNode].hiddenLabel !== undefined) {\n                nodes[selectedNode].label = nodes[selectedNode].hiddenLabel\n                nodes[selectedNode].hiddenLabel = undefined\n            }\n        } else if (this.state.isHighlightActive) {\n            // Reset the color and label of all\n            // nodes/edges when the graph is clicked\n            for (const id in nodes) {\n                nodes[id].color = defaultColor\n\n                // Make sure the root node of the graph gets back\n                // its larger size\n                nodes[id].size =\n                    id === this.props.rootNodeId ? activeNodeSize : inactiveNodeSize\n\n                if (nodes[id].hiddenLabel !== undefined) {\n                    nodes[id].label = nodes[id].hiddenLabel\n                    nodes[id].hiddenLabel = undefined\n                }\n            }\n\n            for (const id in edges) {\n                edges[id].hidden = false\n            }\n            this.setState({ isHighlightActive: false })\n        }\n\n        const updatedNodes = []\n        const updatedEdges = []\n\n        for (const id in nodes) {\n            if (nodes.hasOwnProperty(id)) {\n                updatedNodes.push(nodes[id])\n            }\n        }\n\n        for (const id in edges) {\n            if (edges.hasOwnProperty(id)) {\n                updatedEdges.push(edges[id])\n            }\n        }\n\n        this.dataset.nodes.update(updatedNodes)\n        this.dataset.edges.update(updatedEdges)\n        this.network.redraw()\n    }\n\n    renderEmpty() {\n        if (this.props.nodes.length > 0) {\n            return null\n        }\n\n        return (\n            <div className=\"no-data\">\n                <Empty image={image} imageStyle={{ height: '12em' }} description={null}>\n                    <div>\n                        <Title level={2}>No data to show</Title>\n                        <p>{`It's lookin pretty empty in here.`}</p>\n                        <p className=\"message\">\n                            {`Try searching for a package like \"react\" or \"express\".\n                            Although, that might be hard if you don't have hands. Or maybe\n                            you're a robot. Thats ok, I wont judge.`}\n                        </p>\n                    </div>\n                </Empty>\n            </div>\n        )\n    }\n\n    render() {\n        const { graphLoadProgress, graphPosition, graphScale } = this.state\n\n        // Set the network wrapper to hidden so that vis can\n        // still find the graph element even when there's\n        // no data to show\n        return (\n            <div className=\"dependency-graph\">\n                {graphLoadProgress < 100 || !graphPosition || !graphScale ? null : (\n                    <Tooltip placement=\"topRight\" title=\"Recenter graph\">\n                        <Button\n                            icon={<SyncOutlined />}\n                            size=\"large\"\n                            className=\"recenter-btn\"\n                            onClick={this.recenterGraph}\n                            ref={this.centerButtonRef}\n                        />\n                    </Tooltip>\n                )}\n                <div className=\"network-wrapper\" hidden={this.props.nodes.length === 0}>\n                    {graphLoadProgress === 100 ? null : (\n                        <div className=\"progress-wrapper\">\n                            <div className=\"progress\">{graphLoadProgress}%</div>\n                            <div className=\"progress-title\">Rendering nodes...</div>\n                        </div>\n                    )}\n                    <div ref={this.containerRef} className=\"network\" />\n                </div>\n                {this.renderEmpty()}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    nodes: state.graph.nodes,\n    edges: state.graph.edges,\n    rootNodeId: state.graph.rootNodeId\n})\n\nexport default connect(mapStateToProps, null)(DependencyGraph)\n","import './loading-overlay.scss'\nimport React from 'react'\nimport { Spin } from 'antd'\nimport { Typography } from 'antd'\nimport { connect } from 'react-redux'\n\nconst { Title } = Typography\nconst messages = [\n    'searching for dependencies...',\n    'crunching data, sit tight...',\n    'doing nerd calculations...',\n    'contacting npm servers...',\n    'searching the interwebs...',\n    'contemplating the meaning of life...'\n]\n\nconst LoadingOverlay = props => {\n    if (!props.isLoading) {\n        return null\n    }\n\n    return (\n        <div className=\"loading-overlay\">\n            <div className=\"loading-content-wrapper\">\n                <div className=\"loading-container\">\n                    <Title level={2} className=\"loading-text\">\n                        Loading\n                    </Title>\n                    <Spin size={'large'} className=\"spinner\" />\n                </div>\n                <p>\n                    {!props.currentPackageLoaded\n                        ? messages[Math.floor(Math.random() * messages.length)]\n                        : `loading dependencies for ${props.currentPackageLoaded}`}\n                </p>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    isLoading: state.search.isLoading,\n    currentPackageLoaded: state.search.currentPackageLoaded\n})\n\nexport default connect(mapStateToProps)(LoadingOverlay)\n","import './package-info.scss'\nimport React from 'react'\nimport { Row, Col, Progress, Statistic, Collapse, Divider } from 'antd'\nimport { connect } from 'react-redux'\nimport Errors from '../../util/errors'\n\nconst { Panel } = Collapse\n\nconst PackageLinks = props => {\n    if (!props.links) {\n        return null\n    }\n\n    const links = []\n\n    for (const key in props.links) {\n        links.push(\n            <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={props.links[key]}\n                className=\"package-link\"\n                title={key}\n            >\n                {props.links[key]}\n            </a>\n        )\n    }\n\n    return (\n        <div className=\"package-info-block\">\n            <span className=\"label\">Links</span>\n            <div className=\"links-container\">\n                {links.map((item, index) => (\n                    <React.Fragment key={index}>{item}</React.Fragment>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nconst GitHubStats = props =>\n    props.stars === null || props.forks === null ? null : (\n        <div className=\"package-info-block\">\n            <span className=\"label\">Statistics</span>\n            <Row justify=\"center\" align=\"center\" className=\"github-stats\">\n                <Col span={12}>\n                    <Statistic title=\"Stars\" value={props.stars} />\n                </Col>\n                <Col span={12}>\n                    <Statistic title=\"Forks\" value={props.forks} />\n                </Col>\n            </Row>\n        </div>\n    )\n\nconst DownloadStats = props =>\n    props.downloads === null || props.dependents === null ? null : (\n        <div className=\"package-info-block\">\n            <Row justify=\"center\" align=\"center\">\n                <Col span={12}>\n                    <Statistic title=\"Dependents\" value={props.dependents} />\n                </Col>\n                <Col span={12}>\n                    <Statistic title=\"Downloads\" value={props.downloads} />\n                </Col>\n            </Row>\n        </div>\n    )\n\nconst QualityStats = props =>\n    props.quality === null || props.popularity === null ? null : (\n        <div className=\"package-info-block\">\n            <Row justify=\"center\" align=\"center\" gutter={32}>\n                <Col span={12}>\n                    <div className=\"stats-score\">\n                        <span className=\"label\">Quality</span>\n                        <Progress\n                            type=\"circle\"\n                            size=\"small\"\n                            width={100}\n                            percent={props.quality}\n                            format={percent => `${percent}%`}\n                            className=\"stats-progress\"\n                        />\n                    </div>\n                </Col>\n                <Col span={12}>\n                    <div className=\"stats-score\">\n                        <span className=\"label\">Popularity</span>\n                        <Progress\n                            type=\"circle\"\n                            size=\"small\"\n                            width={100}\n                            percent={props.popularity}\n                            format={percent => `${percent}%`}\n                            className=\"stats-progress\"\n                        />\n                    </div>\n                </Col>\n            </Row>\n        </div>\n    )\n\nconst Dependencies = props => {\n    const deps = Object.keys(props.dependencies)\n\n    return (\n        <div className=\"package-info-block dependencies\">\n            <Collapse\n                bordered={false}\n                className=\"dependencies-collapse\"\n                expandIconPosition=\"right\"\n            >\n                <Panel\n                    header={`Direct Dependencies: ${deps.length}`}\n                    className=\"dependencies-collapse-panel\"\n                >\n                    {deps.map(key => (\n                        <div\n                            key={key}\n                            className=\"dependency-info\"\n                            onClick={() => props.onDependencyClick(key)}\n                        >\n                            <span className=\"dependency-name\" title={key}>\n                                {key}\n                            </span>\n                            <span\n                                className=\"dependency-name\"\n                                title={props.dependencies[key]}\n                            >\n                                {props.dependencies[key]}\n                            </span>\n                        </div>\n                    ))}\n                </Panel>\n            </Collapse>\n        </div>\n    )\n}\n\nconst PackageInfo = props => {\n    if (props.isLoading) {\n        return (\n            <div className=\"package-info-status\">\n                Loading details for {props.searchQuery}...\n            </div>\n        )\n    }\n\n    if (props.errorCode) {\n        let message = ''\n\n        switch (props.errorCode) {\n            case Errors.BAD_REQUEST:\n            case Errors.NOT_FOUND:\n                message = `No details found for ${props.searchQuery}`\n                break\n            default:\n                message = `An error ocurred while loading details for ${props.searchQuery}`\n        }\n\n        return <div className=\"package-info-status\">{message}</div>\n    }\n\n    if (!props.packageInfo) {\n        return null\n    }\n\n    const {\n        name,\n        description,\n        version,\n        dependencies,\n        downloads,\n        dependents,\n        stars,\n        forks,\n        quality,\n        popularity,\n        links\n    } = props.packageInfo\n\n    return (\n        <div className=\"package-info\">\n            <div className=\"package-info-block\">\n                <span className=\"label\">Package</span>\n                <div className=\"dependency-info package-name\">\n                    <span className=\"dependency-name\">{name}</span>\n                    <span>{version}</span>\n                </div>\n            </div>\n            {description ? (\n                <div className=\"package-info-block\">\n                    <span className=\"label\">Description</span>\n                    <p className=\"package-description\">{description}</p>\n                </div>\n            ) : null}\n            <PackageLinks links={links} />\n            <GitHubStats stars={stars} forks={forks} />\n            <DownloadStats downloads={downloads} dependents={dependents} />\n            <QualityStats quality={quality} popularity={popularity} />\n            <Dependencies\n                dependencies={dependencies}\n                onDependencyClick={props.onDependencyClick}\n            />\n            <Divider className=\"package-info-divider\" />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    isLoading: state.package.isLoading,\n    packageInfo: state.package.packageInfo,\n    errorCode: state.package.errorCode,\n    searchQuery: state.search.searchQuery\n})\n\nexport default connect(mapStateToProps)(PackageInfo)\n","// Returns a function, that, as long as it continues to be invoked,\n// will not be triggered. The function will be called after it\n//stops being called for \"wait\" milliseconds\nconst debounce = (func, wait) => {\n    let timeout\n    return function () {\n        const context = this\n        const args = arguments\n\n        const later = function () {\n            timeout = null\n            func.apply(context, args)\n        }\n\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n    }\n}\n\nexport default debounce\n","import './upload.scss'\nimport React from 'react'\nimport { Button, message } from 'antd'\nimport { UploadOutlined } from '@ant-design/icons'\nimport { connect } from 'react-redux'\nimport { getDependenciesFromJsonFile } from '../../store/actions/search'\nimport { searchStart, searchFinished, searchError } from '../../store/actions/search'\nimport { clearPackageInfo } from '../../store/actions/package'\nimport Errors from '../../util/errors'\n\nclass Upload extends React.Component {\n    constructor(props) {\n        super(props)\n        this.inputRef = React.createRef()\n\n        this.triggerUpload = this.triggerUpload.bind(this)\n        this.readFile = this.readFile.bind(this)\n        this.uploadStart = this.uploadStart.bind(this)\n        this.onFileLoaded = this.onFileLoaded.bind(this)\n        this.onError = this.onError.bind(this)\n\n        if (window.FileReader) {\n            this.fileReader = new FileReader()\n        }\n    }\n\n    triggerUpload() {\n        this.inputRef.current.click()\n    }\n\n    uploadStart() {\n        // Dispatch searchStart to show the loading overlay\n        this.props.searchStart()\n        this.props.clearPackageInfo()\n    }\n\n    onError(err) {\n        // eslint-disable-next-line no-console\n        console.error(err)\n        this.props.searchError(Errors.FILE_READ_ERROR)\n    }\n\n    onFileLoaded() {\n        // Reset the input value so users can\n        // upload the same file multiple times\n        this.inputRef.current.value = null\n\n        const content = this.fileReader.result\n\n        try {\n            const json = JSON.parse(content)\n\n            if (!json.dependencies) {\n                throw new Error('This file has no dependencies field')\n            }\n\n            if (!json.name) {\n                throw new Error('This file must have a name field')\n            }\n\n            // This could really only occur if the user tries to upload a\n            // package-lock.json file, since its dependencies are objects\n            // instead of strings\n            for (const dep in json.dependencies) {\n                if (typeof json.dependencies[dep] !== 'string') {\n                    throw new Error('Every dependency must be a string')\n                }\n            }\n\n            this.props.getDependenciesFromJsonFile(json)\n        } catch (err) {\n            this.props.searchError(Errors.FILE_READ_ERROR)\n            message.error(err.message)\n        }\n    }\n\n    readFile() {\n        const input = this.inputRef.current\n\n        if (!input.files || !input.files[0]) {\n            return\n        }\n\n        this.fileReader.onloadstart = this.uploadStart\n        this.fileReader.onload = this.onFileLoaded\n        this.fileReader.onerror = this.onError\n\n        this.fileReader.readAsText(input.files[0])\n    }\n\n    render() {\n        if (!window.FileReader) {\n            return null\n        }\n\n        return (\n            <div className=\"upload\">\n                <input\n                    hidden\n                    type=\"file\"\n                    accept=\"application/JSON\"\n                    ref={this.inputRef}\n                    onChange={this.readFile}\n                />\n                <Button icon={<UploadOutlined />} onClick={this.triggerUpload}>\n                    Upload package.json\n                </Button>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = {\n    getDependenciesFromJsonFile,\n    searchStart,\n    searchFinished,\n    searchError,\n    clearPackageInfo\n}\n\nexport default connect(null, mapDispatchToProps)(Upload)\n","import './menu.scss'\nimport React from 'react'\nimport {\n    Layout,\n    Input,\n    Statistic,\n    Row,\n    Col,\n    Divider,\n    Button,\n    Popconfirm,\n    message\n} from 'antd'\nimport {\n    SearchOutlined,\n    MenuOutlined,\n    LeftOutlined,\n    DeleteOutlined,\n    GithubFilled\n} from '@ant-design/icons'\nimport { connect } from 'react-redux'\nimport { searchPackage } from '../../store/actions/search'\nimport PackageInfo from '../PackageInfo'\nimport { clearCache } from '../../util/cache'\nimport debounce from '../../util/debounce'\nimport Upload from '../Upload'\nimport watch from 'redux-watch'\nimport store from '../../store'\n\nconst { Sider } = Layout\n\n// The width (in px) needed before the\n// menu takes up the entire screen\nconst MOBILE_BREAKPOINT = 650\n\nclass Menu extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            isOpen: window.innerWidth <= MOBILE_BREAKPOINT,\n            isMobile: window.innerWidth <= MOBILE_BREAKPOINT,\n            inputValue: ''\n        }\n\n        this.onSearch = this.onSearch.bind(this)\n        this.toggleMenu = this.toggleMenu.bind(this)\n        this.clearCache = this.clearCache.bind(this)\n        this.onResize = debounce(this.onResize.bind(this), 500)\n        this.renderConfirmPopper = this.renderConfirmPopper.bind(this)\n        this.updateInput = this.updateInput.bind(this)\n\n        const watcher = watch(store.getState, 'search.searchQuery')\n\n        // Since clicking on a dependency in the menu starts a search\n        // with a new query, we need to watch part of the store to\n        // make sure the search input value updates\n        this.unsubscribe = store.subscribe(\n            watcher(newValue => this.setState({ inputValue: newValue }))\n        )\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.onResize)\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe()\n        window.removeEventListener('resize', this.onResize)\n    }\n\n    toggleMenu() {\n        this.setState({ isOpen: !this.state.isOpen })\n    }\n\n    onSearch(event) {\n        const inputValue = event.target.value.trim()\n\n        // Prevent searching for a package that was just searched\n        if (!inputValue || inputValue === this.props.searchQuery) {\n            return\n        }\n\n        // Taking focus away from the input closes the\n        // keyboard on mobile devices\n        event.target.blur()\n\n        this.props.searchPackage(inputValue)\n        this.setState({ inputValue })\n    }\n\n    updateInput(event) {\n        this.setState({ inputValue: event.target.value })\n    }\n\n    clearCache() {\n        if (this.props.cacheSize === 0) {\n            return\n        }\n\n        const itemsCleared = clearCache()\n        message.success(`Cleared ${itemsCleared} entries`)\n    }\n\n    onResize() {\n        this.setState({ isMobile: window.innerWidth <= MOBILE_BREAKPOINT })\n    }\n\n    renderConfirmPopper() {\n        const isCacheEmpty = this.props.cacheSize === 0\n\n        return (\n            <Popconfirm\n                icon={\n                    <DeleteOutlined style={{ color: isCacheEmpty ? 'green' : 'red' }} />\n                }\n                title={\n                    isCacheEmpty\n                        ? 'Nothing here yet. We cache packages to speed up load times.'\n                        : 'Are you sure? Loading may be slower.'\n                }\n                placement=\"topLeft\"\n                cancelText=\"Cancel\"\n                onConfirm={this.clearCache}\n            >\n                <div className=\"menu-footer\">\n                    <small>Clear cache: {this.props.cacheSize.toFixed(2)} KB</small>\n                    <small>{localStorage.length} entries</small>\n                </div>\n            </Popconfirm>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"menu\">\n                {this.state.isOpen ? (\n                    <Button\n                        className=\"menu-open-btn\"\n                        icon={<MenuOutlined />}\n                        size=\"large\"\n                        onClick={this.toggleMenu}\n                    />\n                ) : null}\n                <Sider\n                    collapsible\n                    theme=\"light\"\n                    collapsedWidth={0}\n                    collapsed={this.state.isOpen}\n                    className=\"sider\"\n                    width={this.state.isMobile ? '100vw' : '22em'}\n                    trigger={null}\n                >\n                    <Button\n                        size=\"large\"\n                        icon={<LeftOutlined />}\n                        className=\"menu-close-btn\"\n                        onClick={this.toggleMenu}\n                    />\n\n                    <div className=\"menu-content\">\n                        <div className=\"input-wrapper\">\n                            <Input\n                                value={this.state.inputValue}\n                                className=\"input-search\"\n                                placeholder=\"Search...\"\n                                size=\"large\"\n                                prefix={<SearchOutlined />}\n                                onPressEnter={this.onSearch}\n                                onChange={this.updateInput}\n                            />\n                        </div>\n                        <Row className=\"stats\" justify=\"center\" align=\"middle\">\n                            <Col span={12}>\n                                <Statistic\n                                    title=\"All Dependencies\"\n                                    value={this.props.packagesLoaded}\n                                />\n                            </Col>\n                            <Col span={12} className=\"stat-remaining\">\n                                <Statistic\n                                    title=\"Remaining\"\n                                    value={this.props.packagesRemaining}\n                                />\n                            </Col>\n                        </Row>\n                        <Divider type=\"horizontal\" className=\"divider\" />\n                        <PackageInfo onDependencyClick={this.props.searchPackage} />\n                        <Upload />\n                        {this.renderConfirmPopper()}\n                        <div className=\"menu-footer\">\n                            <small>\n                                <a\n                                    href=\"https://github.com/ctcuff/dependency-visualizer\"\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                >\n                                    View source on GitHub\n                                </a>\n                            </small>\n                            <small>\n                                <GithubFilled />\n                            </small>\n                        </div>\n                    </div>\n                </Sider>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    isLoading: state.search.isLoading,\n    packagesLoaded: state.search.packagesLoaded,\n    packagesRemaining: state.search.packagesRemaining,\n    cacheSize: state.search.cacheSize,\n    searchQuery: state.search.searchQuery\n})\n\nconst mapDispatchToProps = {\n    searchPackage\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu)\n","import './error-overlay.scss'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport error404 from '../../static/404.png'\nimport errorCone from '../../static/error-cone.png'\nimport errorTripped from '../../static/error-tripped.png'\nimport { Empty, Typography } from 'antd'\nimport Errors from '../../util/errors'\n\nconst { Title } = Typography\n\nconst ErrorOverlay = props => {\n    if (!props.errorCode) {\n        return null\n    }\n\n    let image\n    let errorTitle\n    let errorDescription\n    let errorMessage\n\n    switch (props.errorCode) {\n        case Errors.NOT_FOUND:\n            image = error404\n            errorTitle = 'Module not found'\n            errorDescription = `\n                We searched through time and space but couldn't\n                find the module you were looking for.\n            `\n            errorMessage = `\n                Check your spelling and try again. Not trying to make you feel\n                bad or anything, but hey, we all make mistakes. I can't tell\n                you how many times I've misspelled Wednesday. Am I the only\n                person who has to sound it out?\n            `\n            break\n        case Errors.FILE_READ_ERROR:\n            image = errorCone\n            errorTitle = 'Error reading file'\n            errorDescription = \"You're file couldn't be parsed.\"\n            errorMessage = `\n                Listen, we know how to read, but words are hard sometimes.\n                Are you sure the file you uploaded is valid JSON? Make sure\n                your file is valid and try again.\n            `\n            break\n        default:\n            image = errorTripped\n            errorTitle = 'We tripped up!'\n            errorDescription = 'An unknown error occurred.'\n            errorMessage = `\n                Well this is awkward... Usually you're not supposed to\n                see this message. Either something crazy happened, or the\n                world is about to end. If the latter, why not try to knock off\n                some items on your bucket list?\n            `\n    }\n\n    return (\n        <div className=\"error-overlay\">\n            <Empty image={image} imageStyle={{ height: '22em' }} description={null}>\n                <div>\n                    <Title level={2}>{errorTitle}</Title>\n                    <p>{errorDescription}</p>\n                    <p className=\"message\">{errorMessage}</p>\n                </div>\n            </Empty>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    errorCode: state.search.errorCode\n})\n\nexport default connect(mapStateToProps)(ErrorOverlay)\n","import './App.scss'\nimport React, { useEffect } from 'react'\nimport DependencyGraph from '../DependencyGraph'\nimport LoadingOverlay from '../LoadingOverlay'\nimport { Layout } from 'antd'\nimport Menu from '../../components/Menu'\nimport { connect } from 'react-redux'\nimport ErrorOverlay from '../ErrorOverlay'\nimport { clearCache } from '../../util/cache'\n\nconst { Content } = Layout\n\n// The amount of time before data in localStorage\n// gets cleared (in milliseconds)\nconst CACHE_EXPIRATION_TIME = 24 * 60 * 60 * 1000 // 24 hours\n\nconst App = props => {\n    useEffect(() => {\n        const lastAccessed = localStorage.getItem('lastAccessed')\n        if (lastAccessed) {\n            if (Date.now() - lastAccessed >= CACHE_EXPIRATION_TIME) {\n                clearCache()\n            }\n        }\n    })\n\n    return (\n        <Layout className=\"app\">\n            <Menu />\n            <Layout className=\"content\">\n                <Content>\n                    {props.isLoading || props.errorCode ? null : <DependencyGraph />}\n                    <LoadingOverlay />\n                    <ErrorOverlay />\n                </Content>\n            </Layout>\n        </Layout>\n    )\n}\n\nconst mapStateToProps = state => ({\n    isLoading: state.search.isLoading,\n    errorCode: state.search.errorCode\n})\n\nexport default connect(mapStateToProps)(App)\n","import 'antd/dist/antd.css'\nimport './index.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    </Provider>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}