(this["webpackJsonpnpm-dependency-visualizer"]=this["webpackJsonpnpm-dependency-visualizer"]||[]).push([[0],{236:function(e,a){e.exports="data:image/png;base64,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+/btvVzioudu2bLlor/mF7oXUHrd29U686OPPqp1fKcHV0Xw3XffdXp4K8d9+OGHfbtPvxy7feBdu3YVp0+f7vb0S543bFkv+bBX0C8qvRaGVX3XwcmTJ/t2pz179vTt2t1c+IcffujmtI7OScpaOZ49e7YjFwd1LqD0Orfq+sgjR450fW4nJ1bf1jVMr37mTcpalmWxf//+YRrtVfEsSq+FMV57bX+/xbn6c6VhevUz77BlHT16dF/pz5w509frJ15c6bUw9WnTpvX1LjNmzOjr9etevJ95k7JW7sOWt+4uDOPxSq+FqUyZMqUYP3583+50++239+3a3Vx49uzZ3ZzW0TnDlnXWrFkdPXc3B02ePLmYMGFCN6c65xICSu8SOE3+0uLFi5u83N/Xqt4YCxYs+Pu/h+EHTz75ZN8e46mnnurbtbu58MMPP1xUM+jHq/pIMa/mBZRe86b/esXnn3/+X3++159csWJF0e8/V6r7jI899lhx88031z3tssdXn7n3yCOPXPa4Ng8YM2bMyGcA9uOey5cv78dl46+p9FpageoDI6sPBG3yNXbs2OLll19u8pKNXeull15q7FrnL/TKK6+c/+FQ/XvdunXFqFHNvpUeeOCBofsd/FCh9/AwzU6qhwdJOHXDhg2Nxly5cuXIp/A2etGGLvbiiy8WU6dObehqxcinKa9evbqx6zV5oZkzZxbLli1r8pLF66+/3uj1XOwCgZzvuBuOpKtXr27k+zTvvvvu8o8//hiOUBd5is8//7wcPXp0z3mvu+66of8+1Oqz9O68886es1bfc/vqq69eRNRPNyHgAweaUKx5jaeffrqnN8ddd91VHjx4sOZdB3P422+/3VPWcePGle+///5gHr7mXX/88cdy5syZPeVdsWJFzbs6vK6A0qsr1tDxb775Zlm9oet+4sqaNWsaeoL2LrNnz55y7ty5tbPed999ZVUkV9Lr999/L7v51JXqw1a3b99+JUW9Yp9V6Q1wdIcOHSoXL17cURlU/zv79ddfD/Bpe7v1mTNnyupj8jsp+okTJ458bPq5c+d6u+kAz961a1c5a9asjmZbleSRI0cG+LRZt76minvBH/H54QAEqk9JqT5G6IsvvijOnTv3jyeYN29e8cwzz1w1f1Xg8ePHi507dxY7duz4vw9hqL7e7dlnny0ef/zx4sYbb/yHw5X6H5988knxzjvvjPzVnhdmqL5Vr/rym+qvvOznF3NfeE8//q+A0rMJBAhECfiSlahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAwH8AnNjILlDWW6AAAAAASUVORK5CYII="},254:function(e,a,t){e.exports=t.p+"static/media/404.9cf0a1ad.png"},258:function(e,a,t){e.exports=t(560)},260:function(e,a,t){},265:function(e,a,t){},266:function(e,a,t){},470:function(e,a){},530:function(e,a,t){},531:function(e,a,t){},532:function(e,a,t){},559:function(e,a,t){},560:function(e,a,t){"use strict";t.r(a);t(259),t(260);var n=t(0),r=t.n(n),o=t(2),c=t.n(o),s=(t(265),t(9)),i=t(32),l=t(39),d=t(22),u=t(111),g=t(64),p=(t(266),t(231)),A=t.n(p),h=t(54),m=t(232),E=t(10),v=t.n(E),f=t(28),b=function(e){return{type:"UPDATE_GRAPH_DATA",data:e}},k=function(e){var a=null,t=null,n={},r=e.collected.metadata,o=r.name,c=r.description,s=r.version,i=r.dependencies,l=e.evaluation.popularity,d=l.downloadsCount,u=l.dependentsCount,g=e.score.detail,p=g.quality,A=g.popularity;return e.collected.github&&(a=e.collected.github.starsCount,t=e.collected.github.forksCount),e.collected.metadata.links&&(n=e.collected.metadata.links),{type:"SET_PACKAGE_INFO",packageInfo:{name:o,description:c,version:s,dependencies:i||[],downloads:Math.floor(d),dependents:Math.floor(u),stars:a,forks:t,quality:Math.round(100*p),popularity:Math.round(100*A),links:n}}},R=function(e){return{type:"PACKAGE_INFO_ERROR",errorCode:e}},w=t(233).graphlib.Graph,N=function(){},C=function(){var e=Object(f.a)(v.a.mark((function e(a){var t,n,r,o,c,s,i=arguments;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.length>1&&void 0!==i[1]?i[1]:N,n={},r=new Set,o=[],(c=new w({directed:!0})).setNode(a),s=function(){var e=Object(f.a)(v.a.mark((function e(a){var i,l,d,u,g;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n[a]){e.next=2;break}return e.abrupt("return");case 2:if(i=I(a),l=[],e.t0=i,e.t0){e.next=9;break}return e.next=8,y(a);case 8:e.t0=e.sent;case 9:for(d=e.t0,n[a]=!0,z(a,d),u=function(e){var t=d[e];o.push(t),l.push(s(t).then((function(){r.add(t),c.setEdge(a,t),o.pop()})))},g=0;g<d.length;g++)u(g);return t(o.length,r.size,a),e.abrupt("return",Promise.all(l));case 16:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),e.next=9,s(a);case 9:return t(o.length,r.size),e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),y=function(e){return new Promise((function(a,t){var n=I(e);n?a(n):fetch("https://registry.npmjs.cf/".concat(encodeURIComponent(e))).then((function(e){return 200!==e.status?Promise.reject(e.status):e.json()})).then((function(e){var t=e["dist-tags"].latest,n=e.versions[t],r=Object.keys(n.dependencies||[]);a(r)})).catch((function(e){return t(e)}))}))},S={getDependencies:C,graphToJson:function(e,a){var t=[],n=[];return a.nodes().forEach((function(e){t.push({id:e,label:e})})),a.edges().forEach((function(e){n.push({from:e.v,to:e.w})})),{rootNodeId:e,nodes:t,edges:n}}},B=function(e){return{type:"SEARCH_UPDATE_CACHE_SIZE",cacheSize:x()}},z=function(e,a){var t={dependencies:a,storedAt:Date.now()};try{localStorage.setItem("lastAccessed",Date.now()),localStorage.setItem(e,JSON.stringify(t))}catch(n){F(),q.dispatch(B(localStorage.length))}},I=function(e){var a=localStorage.getItem(e);if(!a)return null;try{var t=JSON.parse(a).dependencies;return Array.from(t)}catch(n){return console.err("Error parsing cache",n),null}},x=function(){var e=0;for(var a in localStorage)localStorage.hasOwnProperty(a)&&(e+=2*(localStorage[a].length+a.length));return e/1024},O=function(){var e=localStorage.length;return localStorage.clear(),q.dispatch(B()),e},F=function(){var e=[];for(var a in localStorage){var t=localStorage.getItem(a);if(t&&t.includes("dependencies"))try{t=JSON.parse(t),e.push({key:a,storedAt:t.storedAt})}catch(r){console.err("Error retrieving dependency from cache",r)}}e.sort((function(e,a){return e.storedAt-a.storedAt}));for(var n=0;n<Math.ceil(e.length/2);n++)localStorage.removeItem(e[n].key)},K={isLoading:!1,searchQuery:"",packagesRemaining:0,packagesLoaded:0,currentPackageLoaded:"",errorCode:null,cacheSize:x()},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SEARCH_STARTED":return Object(s.a)({},e,{isLoading:!0,searchQuery:a.query,packagesRemaining:0,packagesLoaded:0,errorCode:null});case"SEARCH_PROGRESS":return Object(s.a)({},e,{packagesRemaining:a.packagesRemaining,packagesLoaded:a.packagesLoaded,currentPackageLoaded:a.currentPackageLoaded});case"SEARCH_FINISHED":return Object(s.a)({},e,{isLoading:!1,errorCode:null});case"SEARCH_ERROR":return Object(s.a)({},e,{isLoading:!1,errorCode:a.errorCode});case"SEARCH_UPDATE_CACHE_SIZE":return Object(s.a)({},e,{cacheSize:a.cacheSize});default:return e}},P={nodes:{shape:"dot",size:12,scaling:{min:10,max:30}},layout:{improvedLayout:!1},edges:{width:.5,arrows:{to:{enabled:!0,scaleFactor:.5},from:{enabled:!1}},smooth:{type:"continuous"}},physics:{maxVelocity:50,solver:"forceAtlas2Based",timestep:.5,forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18},stabilization:{updateInterval:1}},interaction:{hideEdgesOnDrag:!0,hideEdgesOnZoom:!0}},Q={options:Object(s.a)({},{nodes:{shape:"dot",size:12},layout:{improvedLayout:!1},edges:{smooth:{type:"continuous"},arrows:{to:{enabled:!0,scaleFactor:.5},from:{enabled:!1}}},physics:{maxVelocity:50,solver:"forceAtlas2Based",timestep:.5,forceAtlas2Based:{gravitationalConstant:-26,centralGravity:.005,springLength:230,springConstant:.18,avoidOverlap:1},stabilization:{enabled:!0,iterations:500,updateInterval:1}},interaction:{hideEdgesOnDrag:!0,hideEdgesOnZoom:!0}}),data:Object(s.a)({},{rootNodeId:"",nodes:[],edges:[]})},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_GRAPH_DATA":return Object(s.a)({},e,{data:Object(s.a)({},a.data)});default:return e}},J={errorCode:null,isLoading:!1,packageInfo:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"SET_PACKAGE_INFO":return Object(s.a)({},J,{packageInfo:Object(s.a)({},a.packageInfo)});case"CLEAR_PACKAGE_INFO":return J;case"PACKAGE_INFO_SEARCH_START":return Object(s.a)({},J,{isLoading:!0});case"PACKAGE_INFO_ERROR":return Object(s.a)({},J,{errorCode:a.errorCode});default:return e}},D=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||h.d,H=Object(h.c)({search:L,graph:j,package:T}),q=Object(h.e)(H,D(Object(h.a)(m.a))),M=t(19),X=t(235),_=t.n(X),G=t(112),U=t(563),V=t(70),W=t(78),Z=t(69),Y=t(573),$=t(236),ee=t.n($),ae=U.a.Title,te=function(e){Object(g.a)(t,e);var a=Object(u.a)(t);function t(e){var n;Object(i.a)(this,t),(n=a.call(this,e)).containerRef=r.a.createRef(),n.centerButtonRef=r.a.createRef(),n.network=null,n.dataset={nodes:new G.a([]),edges:new G.a([])},n.state={graphLoadProgress:0,nodesLoaded:0,nodesRemaining:0,isHighlightActive:!1,graphPosition:null,graphScale:null},n.onStabilizationProgress=n.onStabilizationProgress.bind(Object(d.a)(n)),n.onStabilizationIterationsDone=n.onStabilizationIterationsDone.bind(Object(d.a)(n)),n.renderEmpty=n.renderEmpty.bind(Object(d.a)(n)),n.highlightChildren=n.highlightChildren.bind(Object(d.a)(n)),n.recenterGraph=n.recenterGraph.bind(Object(d.a)(n));var o=A()(q.getState,"graph.data",_.a);return n.unsubscribe=q.subscribe(o((function(e){n.updateGraph(e)}))),n}return Object(l.a)(t,[{key:"componentWillUnmount",value:function(){this.unsubscribe(),this.network&&this.network.destroy()}},{key:"componentDidMount",value:function(){this.setState({graphLoadProgress:0});var e=c.a.findDOMNode(this.containerRef);this.network=new G.b(e,this.dataset,this.props.options),this.network.on("stabilizationProgress",this.onStabilizationProgress),this.network.on("stabilizationIterationsDone",this.onStabilizationIterationsDone),this.network.on("hold",this.toggleCenterButton.bind(this,!1)),this.network.on("dragStart",this.toggleCenterButton.bind(this,!1)),this.network.on("release",this.toggleCenterButton.bind(this,!0)),this.network.on("dragEnd",this.toggleCenterButton.bind(this,!0)),this.network.on("click",this.highlightChildren)}},{key:"updateGraph",value:function(e){this.network&&(this.dataset.nodes.clear(),this.dataset.edges.clear(),this.dataset.nodes.update(this.props.nodes),this.dataset.edges.update(this.props.edges),this.dataset.nodes.length>=250&&this.network.setOptions(Object(s.a)({},P)),this.network.setData(this.dataset),this.network.redraw(),this.dataset.nodes.update({id:e.rootNodeId,size:32}))}},{key:"onStabilizationProgress",value:function(e){var a=e.iterations,t=e.total;this.setState({graphLoadProgress:Math.round(a/t*100)})}},{key:"onStabilizationIterationsDone",value:function(){this.setState({graphLoadProgress:100,graphPosition:this.network.getViewPosition(),graphScale:this.network.getScale()}),this.network.setOptions({physics:!1})}},{key:"recenterGraph",value:function(){this.state.graphPosition&&this.state.graphScale&&this.network.moveTo({position:this.state.graphPosition,scale:this.state.graphScale})}},{key:"toggleCenterButton",value:function(e){c.a.findDOMNode(this.centerButtonRef).style.display=e?"":"none"}},{key:"highlightChildren",value:function(e){var a=this.dataset.nodes.get({returnType:"Object"}),t=this.dataset.edges.get({returnType:"Object"});if(e.nodes.length>0){this.setState({isHighlightActive:!0});var n=e.nodes[0];for(var r in a)a[r].color="rgba(150, 150, 150, 0.25)",a[r].size=12,void 0===a[r].hiddenLabel&&(a[r].hiddenLabel=a[r].label,a[r].label=void 0);for(var o in t)t[o].hidden=!1;for(var c=this.network.getConnectedNodes(n,"to"),s=0;s<c.length;s++)a[c[s]].color="#1c51a0",void 0!==a[c[s]].hiddenLabel&&(a[c[s]].label=a[c[s]].hiddenLabel,a[c[s]].hiddenLabel=void 0);for(var i in t)t[i].from===n&&c.includes(t[i].to)||(t[i].hidden=!0);a[n].color="#86b3fb",a[n].size=32,void 0!==a[n].hiddenLabel&&(a[n].label=a[n].hiddenLabel,a[n].hiddenLabel=void 0)}else if(this.state.isHighlightActive){for(var l in a)a[l].color="#86b3fb",a[l].size=l===this.props.rootNodeId?32:12,void 0!==a[l].hiddenLabel&&(a[l].label=a[l].hiddenLabel,a[l].hiddenLabel=void 0);for(var d in t)t[d].hidden=!1;this.setState({isHighlightActive:!1})}var u=[],g=[];for(var p in a)a.hasOwnProperty(p)&&u.push(a[p]);for(var A in t)t.hasOwnProperty(A)&&g.push(t[A]);this.dataset.nodes.update(u),this.dataset.edges.update(g),this.network.redraw()}},{key:"renderEmpty",value:function(){return this.props.nodes.length>0?null:r.a.createElement("div",{className:"no-data"},r.a.createElement(V.a,{image:ee.a,imageStyle:{height:"12em"},description:null},r.a.createElement("div",null,r.a.createElement(ae,{level:2},"No data to show"),r.a.createElement("p",null,"It's lookin' pretty empty in here."),r.a.createElement("p",{className:"message"},"Try searching for a package like \"react\" or \"express\". Although, that might be hard if you don't have hands. Or maybe you're a robot. That's ok, I won't judge."))))}},{key:"render",value:function(){var e=this,a=this.state,t=a.graphLoadProgress,n=a.graphPosition,o=a.graphScale;return r.a.createElement("div",{className:"dependency-graph"},t<100||!n||!o?null:r.a.createElement(W.a,{placement:"topRight",title:"Recenter graph"},r.a.createElement(Z.a,{icon:r.a.createElement(Y.a,null),size:"large",className:"recenter-btn",onClick:this.recenterGraph,ref:function(a){return e.centerButtonRef=a}})),r.a.createElement("div",{className:"network-wrapper",hidden:0===this.props.nodes.length},100===t?null:r.a.createElement("div",{className:"progress-wrapper"},r.a.createElement("div",{className:"progress"},t,"%"),r.a.createElement("div",{className:"progress-title"},"Rendering nodes...")),r.a.createElement("div",{ref:function(a){return e.containerRef=a},className:"network"})),this.renderEmpty())}}]),t}(r.a.Component),ne=Object(M.b)((function(e){return{options:e.graph.options,nodes:e.graph.data.nodes,edges:e.graph.data.edges,rootNodeId:e.graph.data.rootNodeId}}))(te),re=(t(530),t(561)),oe=U.a.Title,ce=["searching for dependencies...","crunching data, sit tight...","doing nerd calculations...","contacting npm servers...","searching the interwebs...","contemplating the meaning of life..."],se=Object(M.b)((function(e){return{isLoading:e.search.isLoading,currentPackageLoaded:e.search.currentPackageLoaded}}))((function(e){return!e.isLoading||e.error?null:r.a.createElement("div",{className:"loading-overlay"},r.a.createElement("div",{className:"loading-content-wrapper"},r.a.createElement("div",{className:"loading-container"},r.a.createElement(oe,{level:2,className:"loading-text"},"Loading"),r.a.createElement(re.a,{size:"large",className:"spinner"})),r.a.createElement("p",null,e.currentPackageLoaded?"loading dependencies for ".concat(e.currentPackageLoaded):ce[Math.floor(Math.random()*ce.length)])))})),ie=t(568),le=(t(531),t(567)),de=t(569),ue=t(570),ge=t(571),pe=t(566),Ae=t(562),he=t(572),me=t(574),Ee=t(575),ve=t(576),fe=t(577),be=t(578),ke=(t(532),t(565)),Re=t(564),we=ke.a.Panel,Ne=function(e){if(!e.links)return null;var a=[];for(var t in e.links)a.push(r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.links[t],className:"package-link",title:t},e.links[t]));return r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Links"),r.a.createElement("div",{className:"links-container"},a.map((function(e,a){return r.a.createElement(r.a.Fragment,{key:a},e)}))))},Ce=function(e){return null===e.stars||null===e.forks?null:r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Statistics"),r.a.createElement(ue.a,{justify:"center",align:"center",className:"github-stats"},r.a.createElement(ge.a,{span:12},r.a.createElement(pe.a,{title:"Stars",value:e.stars})),r.a.createElement(ge.a,{span:12},r.a.createElement(pe.a,{title:"Forks",value:e.forks}))))},ye=function(e){return null===e.downloads||null===e.dependents?null:r.a.createElement("div",{className:"package-info-block"},r.a.createElement(ue.a,{justify:"center",align:"center"},r.a.createElement(ge.a,{span:12},r.a.createElement(pe.a,{title:"Dependents",value:e.dependents})),r.a.createElement(ge.a,{span:12},r.a.createElement(pe.a,{title:"Downloads",value:e.downloads}))))},Se=function(e){return null===e.quality||null===e.popularity?null:r.a.createElement("div",{className:"package-info-block"},r.a.createElement(ue.a,{justify:"center",align:"center",gutter:32},r.a.createElement(ge.a,{span:12},r.a.createElement("div",{className:"stats-score"},r.a.createElement("span",{className:"label"},"Quality"),r.a.createElement(Re.a,{type:"circle",size:"small",width:100,percent:e.quality,format:function(e){return"".concat(e,"%")},className:"stats-progress"}))),r.a.createElement(ge.a,{span:12},r.a.createElement("div",{className:"stats-score"},r.a.createElement("span",{className:"label"},"Popularity"),r.a.createElement(Re.a,{type:"circle",size:"small",width:100,percent:e.popularity,format:function(e){return"".concat(e,"%")},className:"stats-progress"})))))},Be=function(e){var a=Object.keys(e.dependencies);return r.a.createElement("div",{className:"package-info-block"},r.a.createElement(ke.a,{bordered:!1,className:"dependencies-collapse",expandIconPosition:"right"},r.a.createElement(we,{header:"Direct Dependencies: ".concat(a.length),className:"dependencies-collapse-panel"},a.map((function(a){return r.a.createElement("div",{key:a,className:"dependency-info",onClick:function(){return e.onDependencyClick(a)}},r.a.createElement("span",{className:"dependency-name"},a),r.a.createElement("span",null,e.dependencies[a]))})))))},ze=Object(M.b)((function(e){return{isLoading:e.package.isLoading,packageInfo:e.package.packageInfo,errorCode:e.package.errorCode,searchQuery:e.search.searchQuery}}))((function(e){if(e.isLoading)return r.a.createElement("div",{className:"package-info-status"},"Loading details for ",e.searchQuery,"...");if(e.errorCode){var a="";switch(e.errorCode){case 400:case 404:a="No details found for ".concat(e.searchQuery);break;default:a="An error ocurred while loading details for ".concat(e.searchQuery)}return r.a.createElement("div",{className:"package-info-status"},a)}if(!e.packageInfo)return null;var t=e.packageInfo,n=t.name,o=t.description,c=t.version,s=t.dependencies,i=t.downloads,l=t.dependents,d=t.stars,u=t.forks,g=t.quality,p=t.popularity,A=t.links;return r.a.createElement("div",{className:"package-info"},r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Package"),r.a.createElement("div",{className:"dependency-info package-name"},r.a.createElement("span",{className:"dependency-name"},n),r.a.createElement("span",null,c))),o?r.a.createElement("div",{className:"package-info-block"},r.a.createElement("span",{className:"label"},"Description"),r.a.createElement("p",{className:"package-description"},o)):null,r.a.createElement(Ne,{links:A}),r.a.createElement(Ce,{stars:d,forks:u}),r.a.createElement(ye,{downloads:i,dependents:l}),r.a.createElement(Se,{quality:g,popularity:p}),r.a.createElement(Be,{dependencies:s,onDependencyClick:e.onDependencyClick}))})),Ie=function(e,a){var t;return function(){var n=this,r=arguments,o=function(){t=null,e.apply(n,r)};clearTimeout(t),t=setTimeout(o,a)}},xe=ie.a.Sider,Oe=function(e){Object(g.a)(t,e);var a=Object(u.a)(t);function t(e){var n;return Object(i.a)(this,t),(n=a.call(this,e)).menuRef=r.a.createRef(),n.state={isOpen:window.innerWidth<=650,isMobile:window.innerWidth<=650,searchQuery:""},n.onSearch=n.onSearch.bind(Object(d.a)(n)),n.toggleMenu=n.toggleMenu.bind(Object(d.a)(n)),n.clearCache=n.clearCache.bind(Object(d.a)(n)),n.onResize=Ie(n.onResize.bind(Object(d.a)(n)),500),n}return Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.onResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize)}},{key:"toggleMenu",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"onSearch",value:function(e){var a=e.target.value.trim();a&&a!==this.state.searchQuery&&(this.props.searchPackage(a.trim()),this.setState({searchQuery:a}))}},{key:"clearCache",value:function(){if(0!==this.props.cacheSize){var e=O();le.a.success("Cleared ".concat(e," entries"))}}},{key:"onResize",value:function(){this.setState({isMobile:window.innerWidth<=650})}},{key:"render",value:function(){var e=this,a=0===this.props.cacheSize;return r.a.createElement("div",{className:"menu",ref:function(a){return e.menuRef=a}},this.state.isOpen?r.a.createElement(Z.a,{className:"menu-open-btn",icon:r.a.createElement(me.a,null),size:"large",onClick:this.toggleMenu}):null,r.a.createElement(xe,{collapsible:!0,theme:"light",collapsedWidth:0,collapsed:this.state.isOpen,className:"sider",width:this.state.isMobile?"100vw":"22em",trigger:null},r.a.createElement(Z.a,{size:"large",icon:r.a.createElement(Ee.a,null),className:"menu-close-btn",onClick:this.toggleMenu}),r.a.createElement("div",{className:"menu-content"},r.a.createElement("div",{className:"input-wrapper"},r.a.createElement(de.a,{className:"input-search",placeholder:"Search...",size:"large",prefix:r.a.createElement(ve.a,null),onPressEnter:this.onSearch,disabled:this.props.isLoading})),r.a.createElement(ue.a,{className:"stats",justify:"center",align:"middle"},r.a.createElement(ge.a,{span:12},r.a.createElement(pe.a,{title:"All Dependencies",value:this.props.packagesLoaded})),r.a.createElement(ge.a,{span:12,className:"stat-remaining"},r.a.createElement(pe.a,{title:"Remaining",value:this.props.packagesRemaining}))),r.a.createElement(Ae.a,{type:"horizontal",className:"divider"}),r.a.createElement(ze,{onDependencyClick:this.props.searchPackage}),r.a.createElement(he.a,{icon:r.a.createElement(fe.a,{style:{color:a?"green":"red"}}),title:a?"Nothing here yet. We cache packages to speed up load times.":"Are you sure? Loading may be slower.",placement:"topLeft",cancelText:"Cancel",onConfirm:this.clearCache},r.a.createElement("div",{className:"menu-footer"},r.a.createElement("small",null,"Clear cache: ",this.props.cacheSize.toFixed(2)," KB"),r.a.createElement("small",null,localStorage.length," entries"))),r.a.createElement("div",{className:"menu-footer"},r.a.createElement("small",null,r.a.createElement("a",{href:"https://github.com/ctcuff/dependency-visualizer",target:"_blank",rel:"noopener noreferrer"},"View source on GitHub")),r.a.createElement("small",null,r.a.createElement(be.a,null))))))}}]),t}(r.a.Component),Fe={searchPackage:function(e){return function(a){var t;a({type:"CLEAR_PACKAGE_INFO"}),a(function(e){return{type:"SEARCH_STARTED",query:e}}(e)),a((t=e,function(e){e({type:"PACKAGE_INFO_SEARCH_START"}),fetch("https://api.npms.io/v2/package/".concat(encodeURIComponent(t))).then(function(){var a=Object(f.a)(v.a.mark((function a(t){var n;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(200===t.status){a.next=3;break}return e(R(t.status)),a.abrupt("return");case 3:return a.next=5,t.json();case 5:n=a.sent,e(k(n));case 7:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}(),(function(a){console.error(a),e(R(-1))}))}));S.getDependencies(e,(function(e,t,n){a(function(e,a,t){return{type:"SEARCH_PROGRESS",packagesLoaded:a,packagesRemaining:e,currentPackageLoaded:t}}(e,t,n))})).then(function(){var t=Object(f.a)(v.a.mark((function t(n){var r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=S.graphToJson(e,n),a({type:"SEARCH_FINISHED"}),a(b(r));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(e){a({type:"SEARCH_ERROR",errorCode:e})})).finally((function(){a(B(x()))}))}}},Ke=Object(M.b)((function(e){return{isLoading:e.search.isLoading,packagesLoaded:e.search.packagesLoaded,packagesRemaining:e.search.packagesRemaining,cacheSize:e.search.cacheSize}}),Fe)(Oe),Le=(t(559),t(254)),Pe=t.n(Le),Qe=U.a.Title,je=Object(M.b)((function(e){return{errorCode:e.search.errorCode}}))((function(e){return e.errorCode?r.a.createElement("div",{className:"error-overlay"},r.a.createElement(V.a,{image:Pe.a,imageStyle:{height:"22em"},description:null},r.a.createElement("div",null,r.a.createElement(Qe,{level:2},"Module not found"),r.a.createElement("p",null,"We searched through time and space but couldn't find the module you were looking for."),r.a.createElement("p",{className:"message"},"Check your spelling and try again. Not trying to make you feel bad or anything, but hey, we all make mistakes. I can't tell you how many times I've misspelled Wednesday. Am I the only person who has to sound it out?")))):null})),Je=ie.a.Content,Te=Object(M.b)((function(e){return{isLoading:e.search.isLoading,errorCode:e.search.errorCode}}))((function(e){return Object(n.useEffect)((function(){var e=localStorage.getItem("lastAccessed");e&&Date.now()-e>=864e5&&O()})),r.a.createElement(ie.a,{className:"app"},r.a.createElement(Ke,null),r.a.createElement(ie.a,{className:"content"},r.a.createElement(Je,null,e.isLoading||e.errorCode?null:r.a.createElement(ne,null),r.a.createElement(se,null),r.a.createElement(je,null))))}));c.a.render(r.a.createElement(M.a,{store:q},r.a.createElement(r.a.StrictMode,null,r.a.createElement(Te,null))),document.getElementById("root"))}},[[258,1,2]]]);
//# sourceMappingURL=main.1ae43e54.chunk.js.map