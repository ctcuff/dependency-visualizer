{"version":3,"sources":["static/empty.png","static/404.png","static/error-cone.png","static/error-tripped.png","store/reducers/search.ts","store/actions/types.js","store/reducers/graph.ts","store/reducers/package.ts","store/index.ts","components/DependencyGraph/config.js","components/DependencyGraph/index.js","components/LoadingOverlay/index.js","store/actions/graph.ts","util/errors.js","store/actions/package.ts","util/cache.ts","util/graph.ts","api/index.ts","store/actions/search.ts","components/PackageInfo/index.js","util/debounce.js","components/Upload/index.js","components/SearchInput/index.js","components/Menu/index.js","components/ErrorOverlay/index.js","components/App/index.js","index.js"],"names":["module","exports","initialState","isLoading","searchQuery","packagesRemaining","packagesLoaded","currentPackageLoaded","errorCode","cache","entries","size","searchReducer","state","action","type","query","rootNodeId","nodes","edges","graphReducer","data","packageInfo","packageReducer","storeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","reducer","combineReducers","search","graph","package","store","createStore","applyMiddleware","thunk","defaultOptions","shape","layout","improvedLayout","smooth","arrows","to","enabled","scaleFactor","from","physics","maxVelocity","solver","timestep","forceAtlas2Based","gravitationalConstant","centralGravity","springLength","springConstant","avoidOverlap","stabilization","iterations","updateInterval","interaction","hideEdgesOnDrag","hideEdgesOnZoom","optimizedOptions","scaling","min","max","width","Title","Typography","DependencyGraph","props","containerRef","React","createRef","centerButtonRef","network","dataset","DataSet","graphLoadProgress","nodesLoaded","nodesRemaining","isHighlightActive","graphPosition","graphScale","onStabilizationProgress","bind","onStabilizationIterationsDone","renderEmpty","highlightChildren","recenterGraph","watcher","watch","getState","deepEqual","unsubscribe","subscribe","newValue","updateGraph","this","destroy","container","current","Network","on","toggleCenterButton","clear","update","length","setOptions","setData","redraw","id","total","setState","Math","round","getViewPosition","getScale","moveTo","position","scale","show","style","display","params","get","returnType","selectedNode","color","undefined","hiddenLabel","label","hidden","connectedNodes","getConnectedNodes","i","includes","updatedNodes","updatedEdges","hasOwnProperty","push","className","image","imageStyle","height","description","level","placement","title","icon","SyncOutlined","onClick","ref","Component","connect","messages","floor","random","updateGraphData","Errors","NOT_FOUND","BAD_REQUEST","FILE_READ_ERROR","UNKNOWN_ERROR","setPackageInfo","stars","forks","links","metadata","collected","name","version","dependencies","evaluation","popularity","downloadsCount","dependentsCount","score","detail","quality","github","starsCount","forksCount","downloads","dependents","packageInfoError","clearPackageInfo","Cache","lastAccessed","parseInt","localStorage","getItem","Date","now","getEntries","getSize","dispatch","updateCacheSize","packageName","storedAt","setItem","JSON","stringify","err","clearHalf","suggestions","parse","Array","console","error","item","Object","prototype","call","key","parsedItem","sort","a","b","ceil","removeItem","graphToJson","map","nodeName","edge","v","w","Graph","graphlib","getDependencies","onProgressUpdate","doesPackageExist","Error","root","directed","setNode","_getDependencies","getDependenciesFromFile","result","Set","promises","forEach","dep","setEdge","Promise","all","seen","remaining","getPackageDependencies","cacheDependencies","then","add","pop","resolve","fetch","encodeURIComponent","res","status","catch","json","versions","latestVersion","latest","versionInfo","keys","API","getSuggestions","url","cached","reject","objects","obj","cacheSuggestions","searchStart","searchFinished","searchError","updateSearchProgress","loaded","searchPackage","Panel","Collapse","PackageLinks","target","rel","href","index","Fragment","GitHubStats","justify","align","span","value","DownloadStats","QualityStats","gutter","percent","format","Dependencies","deps","bordered","expandIconPosition","header","onDependencyClick","message","debounce","func","wait","timeout","context","args","arguments","later","apply","clearTimeout","setTimeout","Upload","inputRef","triggerUpload","readFile","uploadStart","onFileLoaded","onError","FileReader","fileReader","click","content","getDependenciesFromJsonFile","input","files","onloadstart","onload","onerror","readAsText","accept","onChange","UploadOutlined","mapDispatchToProps","homepage","setPackageInfoFromJson","SearchInput","inputValue","isInputFocused","onSearch","updateInputValue","onInputFocus","onInputBlur","renderSuggestions","onMenuItemClick","onEscPress","document","addEventListener","removeEventListener","event","blur","trim","packagename","Item","placeholder","prefix","SearchOutlined","onPressEnter","onBlur","onFocus","Sider","Layout","Menu","isOpen","innerWidth","isMobile","toggleMenu","onResize","renderConfirmPopper","isCacheEmpty","DeleteOutlined","cancelText","onConfirm","toFixed","MenuOutlined","collapsible","theme","collapsedWidth","collapsed","trigger","LeftOutlined","GithubFilled","errorTitle","errorDescription","errorMessage","error404","errorCone","errorTripped","Content","init","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.788a785b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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+/btvVzioudu2bLlor/mF7oXUHrd29U686OPPqp1fKcHV0Xw3XffdXp4K8d9+OGHfbtPvxy7feBdu3YVp0+f7vb0S543bFkv+bBX0C8qvRaGVX3XwcmTJ/t2pz179vTt2t1c+IcffujmtI7OScpaOZ49e7YjFwd1LqD0Orfq+sgjR450fW4nJ1bf1jVMr37mTcpalmWxf//+YRrtVfEsSq+FMV57bX+/xbn6c6VhevUz77BlHT16dF/pz5w509frJ15c6bUw9WnTpvX1LjNmzOjr9etevJ95k7JW7sOWt+4uDOPxSq+FqUyZMqUYP3583+50++239+3a3Vx49uzZ3ZzW0TnDlnXWrFkdPXc3B02ePLmYMGFCN6c65xICSu8SOE3+0uLFi5u83N/Xqt4YCxYs+Pu/h+EHTz75ZN8e46mnnurbtbu58MMPP1xUM+jHq/pIMa/mBZRe86b/esXnn3/+X3++159csWJF0e8/V6r7jI899lhx88031z3tssdXn7n3yCOPXPa4Ng8YM2bMyGcA9uOey5cv78dl46+p9FpageoDI6sPBG3yNXbs2OLll19u8pKNXeull15q7FrnL/TKK6+c/+FQ/XvdunXFqFHNvpUeeOCBofsd/FCh9/AwzU6qhwdJOHXDhg2Nxly5cuXIp/A2etGGLvbiiy8WU6dObehqxcinKa9evbqx6zV5oZkzZxbLli1r8pLF66+/3uj1XOwCgZzvuBuOpKtXr27k+zTvvvvu8o8//hiOUBd5is8//7wcPXp0z3mvu+66of8+1Oqz9O68886es1bfc/vqq69eRNRPNyHgAweaUKx5jaeffrqnN8ddd91VHjx4sOZdB3P422+/3VPWcePGle+///5gHr7mXX/88cdy5syZPeVdsWJFzbs6vK6A0qsr1tDxb775Zlm9oet+4sqaNWsaeoL2LrNnz55y7ty5tbPed999ZVUkV9Lr999/L7v51JXqw1a3b99+JUW9Yp9V6Q1wdIcOHSoXL17cURlU/zv79ddfD/Bpe7v1mTNnyupj8jsp+okTJ458bPq5c+d6u+kAz961a1c5a9asjmZbleSRI0cG+LRZt76minvBH/H54QAEqk9JqT5G6IsvvijOnTv3jyeYN29e8cwzz1w1f1Xg8ePHi507dxY7duz4vw9hqL7e7dlnny0ef/zx4sYbb/yHw5X6H5988knxzjvvjPzVnhdmqL5Vr/rym+qvvOznF3NfeE8//q+A0rMJBAhECfiSlahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAgNKzAwQIRAkovahxC0uAwH8AnNjILlDWW6AAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/404.9cf0a1ad.png\";","module.exports = __webpack_public_path__ + \"static/media/error-cone.b85c2c68.png\";","module.exports = __webpack_public_path__ + \"static/media/error-tripped.7bd78359.png\";","import {\n    SEARCH_STARTED,\n    SEARCH_PROGRESS,\n    SEARCH_FINISHED,\n    SEARCH_ERROR,\n    SEARCH_UPDATE_CACHE_SIZE\n} from '../actions/types'\nimport { SearchAction } from '../actions/search'\n\nconst initialState: SearchState = {\n    isLoading: false,\n    searchQuery: '',\n    packagesRemaining: 0,\n    packagesLoaded: 0,\n    currentPackageLoaded: '',\n    errorCode: null,\n    cache: {\n        entries: 0,\n        size: 0\n    }\n}\n\nconst searchReducer = (state = initialState, action: SearchAction): SearchState => {\n    switch (action.type) {\n        case SEARCH_STARTED:\n            return {\n                ...state,\n                isLoading: true,\n                searchQuery: action.query,\n                packagesRemaining: 0,\n                packagesLoaded: 0,\n                errorCode: null,\n                currentPackageLoaded: ''\n            }\n        case SEARCH_PROGRESS:\n            return {\n                ...state,\n                packagesRemaining: action.packagesRemaining,\n                packagesLoaded: action.packagesLoaded,\n                currentPackageLoaded: action.currentPackageLoaded\n            }\n        case SEARCH_FINISHED:\n            return {\n                ...state,\n                isLoading: false,\n                errorCode: null\n            }\n        case SEARCH_ERROR:\n            return {\n                ...state,\n                isLoading: false,\n                errorCode: action.errorCode\n            }\n        case SEARCH_UPDATE_CACHE_SIZE:\n            return {\n                ...state,\n                cache: {\n                    entries: action.entries,\n                    size: action.size\n                }\n            }\n        default:\n            return state\n    }\n}\n\ntype SearchState = {\n    isLoading: boolean\n    searchQuery: string\n    packagesLoaded: number\n    packagesRemaining: number\n    currentPackageLoaded: string\n    errorCode: null | number\n    cache: {\n        entries: number\n        size: number\n    }\n}\n\nexport default searchReducer\n","const SEARCH_STARTED = 'SEARCH_STARTED'\nconst SEARCH_PROGRESS = 'SEARCH_PROGRESS'\nconst SEARCH_FINISHED = 'SEARCH_FINISHED'\nconst SEARCH_ERROR = 'SEARCH_ERROR'\nconst SEARCH_UPDATE_CACHE_SIZE = 'SEARCH_UPDATE_CACHE_SIZE'\n\nconst LOAD_GRAPH_DATA = 'LOAD_GRAPH_DATA'\nconst UPDATE_GRAPH_DATA = 'UPDATE_GRAPH_DATA'\n\nconst PACKAGE_INFO_SEARCH_START = 'PACKAGE_INFO_SEARCH_START'\nconst PACKAGE_INFO_ERROR = 'PACKAGE_INFO_ERROR'\nconst SET_PACKAGE_INFO = 'SET_PACKAGE_INFO'\nconst CLEAR_PACKAGE_INFO = 'CLEAR_PACKAGE_INFO'\n\n// prettier-ignore\nexport {\n    SEARCH_STARTED,\n    SEARCH_PROGRESS,\n    SEARCH_FINISHED,\n    SEARCH_ERROR,\n    SEARCH_UPDATE_CACHE_SIZE,\n\n    LOAD_GRAPH_DATA,\n    UPDATE_GRAPH_DATA,\n\n    PACKAGE_INFO_SEARCH_START,\n    PACKAGE_INFO_ERROR,\n    SET_PACKAGE_INFO,\n    CLEAR_PACKAGE_INFO\n}\n","import { UPDATE_GRAPH_DATA } from '../actions/types'\nimport { GraphAction } from '../actions/graph'\nimport { GraphJson } from '../../util/graph'\n\nconst initialState: GraphState = {\n    rootNodeId: '',\n    nodes: [],\n    edges: []\n}\n\nconst graphReducer = (state = initialState, action: GraphAction): GraphState => {\n    switch (action.type) {\n        case UPDATE_GRAPH_DATA:\n            return {\n                ...action.data\n            }\n        default:\n            return state\n    }\n}\n\nexport type GraphState = GraphJson\n\nexport default graphReducer\n","import {\n    SET_PACKAGE_INFO,\n    CLEAR_PACKAGE_INFO,\n    PACKAGE_INFO_ERROR,\n    PACKAGE_INFO_SEARCH_START\n} from '../actions/types'\nimport { PackageDetails, PackageAction } from '../actions/package'\n\nconst initialState: PackageState = {\n    errorCode: null,\n    isLoading: false,\n    packageInfo: null\n}\n\nconst packageReducer = (state = initialState, action: PackageAction): PackageState => {\n    switch (action.type) {\n        case SET_PACKAGE_INFO:\n            return {\n                ...initialState,\n                packageInfo: {\n                    ...action.packageInfo\n                }\n            }\n        case CLEAR_PACKAGE_INFO:\n            return {\n                ...initialState\n            }\n        case PACKAGE_INFO_SEARCH_START:\n            return {\n                ...initialState,\n                isLoading: true\n            }\n        case PACKAGE_INFO_ERROR:\n            return {\n                ...initialState,\n                errorCode: action.errorCode\n            }\n        default:\n            return state\n    }\n}\n\ntype PackageState = {\n    errorCode: number | null\n    isLoading: boolean\n    packageInfo: PackageDetails | null\n}\n\nexport default packageReducer\n","import { createStore, combineReducers, applyMiddleware, compose } from 'redux'\nimport thunk from 'redux-thunk'\nimport searchReducer from './reducers/search'\nimport graphReducer from './reducers/graph'\nimport packageReducer from './reducers/package'\n\n// @ts-ignore\nconst storeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose\n\nconst reducer = combineReducers({\n    search: searchReducer,\n    graph: graphReducer,\n    package: packageReducer\n})\n\nconst store = createStore(reducer, storeEnhancers(applyMiddleware(thunk)))\n\nexport type RootState = ReturnType<typeof reducer>\nexport default store\n","// See: https://visjs.github.io/vis-network/docs/network/\n// for detailed config info\n\nconst defaultOptions = {\n    nodes: {\n        shape: 'dot',\n        size: 12\n    },\n    layout: {\n        improvedLayout: false\n    },\n    edges: {\n        smooth: {\n            type: 'continuous'\n        },\n        arrows: {\n            to: {\n                enabled: true,\n                scaleFactor: 0.5\n            },\n            from: {\n                enabled: false\n            }\n        }\n    },\n    physics: {\n        maxVelocity: 50,\n        solver: 'forceAtlas2Based',\n        timestep: 0.5,\n        forceAtlas2Based: {\n            gravitationalConstant: -26,\n            centralGravity: 0.005,\n            springLength: 230,\n            springConstant: 0.18,\n            avoidOverlap: 1\n        },\n        stabilization: {\n            enabled: true,\n            iterations: 500,\n            updateInterval: 1\n        }\n    },\n    interaction: {\n        hideEdgesOnDrag: true,\n        hideEdgesOnZoom: true\n    }\n}\n\n// Graph options that increase fps/rendering speeds\n// for larger data sets\nconst optimizedOptions = {\n    ...defaultOptions,\n    nodes: {\n        ...defaultOptions.nodes,\n        scaling: {\n            min: 10,\n            max: 30\n        }\n    },\n    edges: {\n        ...defaultOptions.edges,\n        width: 0.15\n    },\n    physics: {\n        ...defaultOptions.physics,\n        forceAtlas2Based: {\n            ...defaultOptions.physics.forceAtlas2Based,\n            avoidOverlap: 0\n        },\n        stabilization: {\n            updateInterval: 1\n        }\n    }\n}\n\nexport { defaultOptions, optimizedOptions }\n","import './dependency-graph.scss'\nimport React from 'react'\nimport watch from 'redux-watch'\nimport store from '../../store'\nimport { connect } from 'react-redux'\nimport deepEqual from 'deep-equal'\nimport { DataSet, Network } from 'vis-network/standalone'\nimport { Empty, Typography, Button, Tooltip } from 'antd'\nimport { SyncOutlined } from '@ant-design/icons'\nimport { optimizedOptions, defaultOptions } from './config'\nimport image from '../../static/empty.png'\n\nconst { Title } = Typography\n\n// The maximum number of nodes that can be rendered\n// before performance optimizations occur\nconst MAX_NODE_LIMIT = 250\n\nclass DependencyGraph extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.containerRef = React.createRef()\n        this.centerButtonRef = React.createRef()\n\n        this.network = null\n        this.dataset = {\n            nodes: new DataSet([]),\n            edges: new DataSet([])\n        }\n\n        this.state = {\n            graphLoadProgress: 0,\n            nodesLoaded: 0,\n            nodesRemaining: 0,\n            isHighlightActive: false,\n            graphPosition: null,\n            graphScale: null\n        }\n\n        this.onStabilizationProgress = this.onStabilizationProgress.bind(this)\n        this.onStabilizationIterationsDone = this.onStabilizationIterationsDone.bind(this)\n        this.renderEmpty = this.renderEmpty.bind(this)\n        this.highlightChildren = this.highlightChildren.bind(this)\n        this.recenterGraph = this.recenterGraph.bind(this)\n\n        const watcher = watch(store.getState, 'graph.rootNodeId', deepEqual)\n\n        // Watch a part of the store for changes in data\n        // so we can reload the graph\n        this.unsubscribe = store.subscribe(\n            watcher(newValue => {\n                this.updateGraph(newValue)\n            })\n        )\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe()\n        if (this.network) {\n            this.network.destroy()\n        }\n    }\n\n    componentDidMount() {\n        const container = this.containerRef.current\n\n        this.network = new Network(container, this.dataset, defaultOptions)\n\n        // Triggered when the graph starts trying to render nodes\n        this.network.on('stabilizationProgress', this.onStabilizationProgress)\n\n        // Triggered when the graph finishes rendering\n        this.network.on('stabilizationIterationsDone', this.onStabilizationIterationsDone)\n\n        this.network.on('hold', this.toggleCenterButton.bind(this, false))\n        this.network.on('dragStart', this.toggleCenterButton.bind(this, false))\n\n        this.network.on('release', this.toggleCenterButton.bind(this, true))\n        this.network.on('dragEnd', this.toggleCenterButton.bind(this, true))\n\n        this.network.on('click', this.highlightChildren)\n    }\n\n    updateGraph(rootNodeId) {\n        if (!this.network) {\n            return\n        }\n\n        this.dataset.nodes.clear()\n        this.dataset.edges.clear()\n\n        this.dataset.nodes.update(this.props.nodes)\n        this.dataset.edges.update(this.props.edges)\n\n        if (this.dataset.nodes.length >= MAX_NODE_LIMIT) {\n            this.network.setOptions({ ...optimizedOptions })\n        }\n\n        this.network.setData(this.dataset)\n        this.network.redraw()\n\n        this.dataset.nodes.update({\n            id: rootNodeId,\n            size: 32\n        })\n    }\n\n    onStabilizationProgress({ iterations, total }) {\n        this.setState({ graphLoadProgress: Math.round((iterations / total) * 100) })\n    }\n\n    onStabilizationIterationsDone() {\n        this.setState({\n            graphLoadProgress: 100,\n            graphPosition: this.network.getViewPosition(),\n            graphScale: this.network.getScale()\n        })\n\n        // Disabling physics after the graph renders lets us\n        // keep the graphs layout, but prevents nodes from\n        // moving when other nodes are dragged\n        this.network.setOptions({ physics: false })\n    }\n\n    recenterGraph() {\n        if (!this.state.graphPosition || !this.state.graphScale) {\n            return\n        }\n\n        this.network.moveTo({\n            position: this.state.graphPosition,\n            scale: this.state.graphScale\n        })\n    }\n\n    toggleCenterButton(show) {\n        if (!this.centerButtonRef || !this.centerButtonRef.current) {\n            return\n        }\n\n        this.centerButtonRef.current.style.display = show ? '' : 'none'\n    }\n\n    highlightChildren(params) {\n        const nodes = this.dataset.nodes.get({ returnType: 'Object' })\n        const edges = this.dataset.edges.get({ returnType: 'Object' })\n        const defaultColor = '#86b3fb'\n        const selectedNodeColor = '#1c51a0'\n        const inactiveColor = 'rgba(150, 150, 150, 0.25)'\n        const activeNodeSize = 32\n        const inactiveNodeSize = 12\n\n        // length will be > 0 if a node was selected\n        if (params.nodes.length > 0) {\n            this.setState({ isHighlightActive: true })\n\n            const selectedNode = params.nodes[0]\n\n            // Make any node that isn't the currently selected node or a child\n            // of the currently selected node grey\n            for (const id in nodes) {\n                nodes[id].color = inactiveColor\n                nodes[id].size = inactiveNodeSize\n\n                if (nodes[id].hiddenLabel === undefined) {\n                    nodes[id].hiddenLabel = nodes[id].label\n                    nodes[id].label = undefined\n                }\n            }\n\n            for (const id in edges) {\n                edges[id].hidden = false\n            }\n\n            // Get all nodes going from the selected node to its children\n            const connectedNodes = this.network.getConnectedNodes(selectedNode, 'to')\n\n            // Give color/label back to the children of the selected node\n            for (let i = 0; i < connectedNodes.length; i++) {\n                nodes[connectedNodes[i]].color = selectedNodeColor\n                if (nodes[connectedNodes[i]].hiddenLabel !== undefined) {\n                    nodes[connectedNodes[i]].label = nodes[connectedNodes[i]].hiddenLabel\n                    nodes[connectedNodes[i]].hiddenLabel = undefined\n                }\n            }\n\n            // Show edges that go from the selected node to its children\n            for (const id in edges) {\n                if (\n                    edges[id].from === selectedNode &&\n                    connectedNodes.includes(edges[id].to)\n                ) {\n                    continue\n                }\n                edges[id].hidden = true\n            }\n\n            // Give color/label back to the selected node\n            nodes[selectedNode].color = defaultColor\n            nodes[selectedNode].size = activeNodeSize\n\n            if (nodes[selectedNode].hiddenLabel !== undefined) {\n                nodes[selectedNode].label = nodes[selectedNode].hiddenLabel\n                nodes[selectedNode].hiddenLabel = undefined\n            }\n        } else if (this.state.isHighlightActive) {\n            // Reset the color and label of all\n            // nodes/edges when the graph is clicked\n            for (const id in nodes) {\n                nodes[id].color = defaultColor\n\n                // Make sure the root node of the graph gets back\n                // its larger size\n                nodes[id].size =\n                    id === this.props.rootNodeId ? activeNodeSize : inactiveNodeSize\n\n                if (nodes[id].hiddenLabel !== undefined) {\n                    nodes[id].label = nodes[id].hiddenLabel\n                    nodes[id].hiddenLabel = undefined\n                }\n            }\n\n            for (const id in edges) {\n                edges[id].hidden = false\n            }\n            this.setState({ isHighlightActive: false })\n        }\n\n        const updatedNodes = []\n        const updatedEdges = []\n\n        for (const id in nodes) {\n            if (nodes.hasOwnProperty(id)) {\n                updatedNodes.push(nodes[id])\n            }\n        }\n\n        for (const id in edges) {\n            if (edges.hasOwnProperty(id)) {\n                updatedEdges.push(edges[id])\n            }\n        }\n\n        this.dataset.nodes.update(updatedNodes)\n        this.dataset.edges.update(updatedEdges)\n        this.network.redraw()\n    }\n\n    renderEmpty() {\n        if (this.props.nodes.length > 0) {\n            return null\n        }\n\n        return (\n            <div className=\"no-data\">\n                <Empty image={image} imageStyle={{ height: '12em' }} description={null}>\n                    <div>\n                        <Title level={2}>No data to show</Title>\n                        <p>{`It's lookin pretty empty in here.`}</p>\n                        <p className=\"message\">\n                            {`Try searching for a package like \"react\" or \"express\".\n                            Although, that might be hard if you don't have hands. Or maybe\n                            you're a robot. Thats ok, I wont judge.`}\n                        </p>\n                    </div>\n                </Empty>\n            </div>\n        )\n    }\n\n    render() {\n        const { graphLoadProgress, graphPosition, graphScale } = this.state\n\n        // Set the network wrapper to hidden so that vis can\n        // still find the graph element even when there's\n        // no data to show\n        return (\n            <div className=\"dependency-graph\">\n                {graphLoadProgress < 100 || !graphPosition || !graphScale ? null : (\n                    <Tooltip placement=\"topRight\" title=\"Recenter graph\">\n                        <Button\n                            icon={<SyncOutlined />}\n                            size=\"large\"\n                            className=\"recenter-btn\"\n                            onClick={this.recenterGraph}\n                            ref={this.centerButtonRef}\n                        />\n                    </Tooltip>\n                )}\n                <div className=\"network-wrapper\" hidden={this.props.nodes.length === 0}>\n                    {graphLoadProgress === 100 ? null : (\n                        <div className=\"progress-wrapper\">\n                            <div className=\"progress\">{graphLoadProgress}%</div>\n                            <div className=\"progress-title\">Rendering nodes...</div>\n                        </div>\n                    )}\n                    <div ref={this.containerRef} className=\"network\" />\n                </div>\n                {this.renderEmpty()}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    nodes: state.graph.nodes,\n    edges: state.graph.edges,\n    rootNodeId: state.graph.rootNodeId\n})\n\nexport default connect(mapStateToProps, null)(DependencyGraph)\n","import './loading-overlay.scss'\nimport React from 'react'\nimport { Spin } from 'antd'\nimport { Typography } from 'antd'\nimport { connect } from 'react-redux'\n\nconst { Title } = Typography\nconst messages = [\n    'searching for dependencies...',\n    'crunching data, sit tight...',\n    'doing nerd calculations...',\n    'contacting npm servers...',\n    'searching the interwebs...',\n    'contemplating the meaning of life...'\n]\n\nconst LoadingOverlay = props => {\n    if (!props.isLoading) {\n        return null\n    }\n\n    return (\n        <div className=\"loading-overlay\">\n            <div className=\"loading-content-wrapper\">\n                <div className=\"loading-container\">\n                    <Title level={2} className=\"loading-text\">\n                        Loading\n                    </Title>\n                    <Spin size={'large'} className=\"spinner\" />\n                </div>\n                <p>\n                    {!props.currentPackageLoaded\n                        ? messages[Math.floor(Math.random() * messages.length)]\n                        : `loading dependencies for ${props.currentPackageLoaded}`}\n                </p>\n            </div>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    isLoading: state.search.isLoading,\n    currentPackageLoaded: state.search.currentPackageLoaded\n})\n\nexport default connect(mapStateToProps)(LoadingOverlay)\n","import { UPDATE_GRAPH_DATA } from './types'\nimport { GraphState } from '../reducers/graph'\n\nconst updateGraphData = (data: GraphState): GraphAction => ({\n    type: UPDATE_GRAPH_DATA,\n    data\n})\n\ntype GraphUpdateData = {\n    type: typeof UPDATE_GRAPH_DATA\n    data: GraphState\n}\n\nexport type GraphAction = GraphUpdateData\nexport { updateGraphData }\n","const Errors = {\n    NOT_FOUND: 404,\n    // This can occur when a user searches for a package\n    // with invalid characters\n    BAD_REQUEST: 400,\n    FILE_READ_ERROR: -1,\n    UNKNOWN_ERROR: -2\n}\n\nexport default Errors\n","import {\n    SET_PACKAGE_INFO,\n    CLEAR_PACKAGE_INFO,\n    PACKAGE_INFO_ERROR,\n    PACKAGE_INFO_SEARCH_START\n} from './types'\nimport Errors from '../../util/errors'\nimport { ActionCreator, Dispatch } from 'redux'\n\n// data is the JSON response returned from the api.npms.io\nconst setPackageInfo = (data: any): PackageAction => {\n    let stars = null\n    let forks = null\n    let links = {}\n    const metadata = data.collected.metadata\n    const { name, description, version, dependencies } = metadata\n    const { downloadsCount, dependentsCount } = data.evaluation.popularity\n    const { quality, popularity } = data.score.detail\n\n    if (data.collected.github) {\n        stars = data.collected.github.starsCount\n        forks = data.collected.github.forksCount\n    }\n\n    if (data.collected.metadata.links) {\n        links = data.collected.metadata.links\n    }\n\n    return {\n        type: SET_PACKAGE_INFO,\n        packageInfo: {\n            name,\n            description,\n            version,\n            dependencies: dependencies || [],\n            downloads: Math.floor(downloadsCount),\n            dependents: Math.floor(dependentsCount),\n            stars,\n            forks,\n            quality: Math.round(quality * 100),\n            popularity: Math.round(popularity * 100),\n            links\n        }\n    }\n}\n\nconst setPackageInfoFromJson = (json: PackageJson): PackageAction => {\n    const { name, version, dependencies, description, homepage } = json\n    let links = null\n\n    if (homepage) {\n        links = {\n            homepage: json.homepage\n        }\n    }\n\n    return {\n        type: SET_PACKAGE_INFO,\n        packageInfo: {\n            name,\n            version: version || 'Unknown',\n            dependencies,\n            description,\n            links,\n            stars: null,\n            forks: null,\n            quality: null,\n            popularity: null,\n            downloads: null,\n            dependents: null\n        }\n    }\n}\n\nconst packageSearchStart = (): PackageAction => ({\n    type: PACKAGE_INFO_SEARCH_START\n})\n\nconst packageInfoError = (errorCode: number): PackageAction => ({\n    type: PACKAGE_INFO_ERROR,\n    errorCode\n})\n\nconst getPackageInfo = (packageName: string): ActionCreator<void> => {\n    return (dispatch: Dispatch) => {\n        dispatch(packageSearchStart())\n\n        fetch(`https://api.npms.io/v2/package/${encodeURIComponent(packageName)}`).then(\n            async res => {\n                if (res.status !== 200) {\n                    dispatch(packageInfoError(res.status))\n                    return\n                }\n                const data = await res.json()\n                dispatch(setPackageInfo(data))\n            },\n            error => {\n                // eslint-disable-next-line no-console\n                console.error(error)\n                // Some unknown error occurred\n                dispatch(packageInfoError(Errors.UNKNOWN_ERROR))\n            }\n        )\n    }\n}\n\nconst clearPackageInfo = (): PackageAction => ({\n    type: CLEAR_PACKAGE_INFO\n})\n\ntype PackageSetInfo = {\n    type: typeof SET_PACKAGE_INFO\n    packageInfo: PackageDetails\n}\n\ntype PackageError = {\n    type: typeof PACKAGE_INFO_ERROR\n    errorCode: number\n}\n\ntype PackageSearchStart = {\n    type: typeof PACKAGE_INFO_SEARCH_START\n}\n\ntype PackageClearInfo = {\n    type: typeof CLEAR_PACKAGE_INFO\n}\n\nexport type PackageAction =\n    | PackageSetInfo\n    | PackageError\n    | PackageSearchStart\n    | PackageClearInfo\n\nexport type PackageJson = {\n    name: string\n    version: string\n    dependencies: string[]\n    description: string\n    homepage: string\n}\n\nexport type PackageDetails = {\n    name: string\n    version: string\n    description: string\n    dependencies: string[]\n    downloads: number | null\n    dependents: number | null\n    stars: number | null\n    forks: number | null\n    quality: number | null\n    popularity: number | null\n    links: { [key: string]: string } | null\n}\n\nexport { setPackageInfo, clearPackageInfo, getPackageInfo, setPackageInfoFromJson }\n","import store from '../store'\nimport { updateCacheSize } from '../store/actions/search'\n\n// The amount of time before data in localStorage\n// gets cleared (in milliseconds)\nconst CACHE_EXPIRATION_TIME = 24 * 60 * 60 * 1000 // 24 hours\n\nclass Cache {\n    // Not using localStorage for suggestions\n    // since they aren't persisted across reloads\n    private static suggestions: SuggestionCache = {}\n\n    static init(): void {\n        const lastAccessed = parseInt(localStorage.getItem('lastAccessed') as string)\n\n        // Check to see if it's been more than 24 hours since\n        // local storage was last read from\n        if (Date.now() - lastAccessed > CACHE_EXPIRATION_TIME) {\n            Cache.clear()\n        }\n\n        const entries = Cache.getEntries()\n        const size = Cache.getSize()\n\n        store.dispatch(updateCacheSize(entries, size))\n    }\n\n    static cacheDependencies(packageName: string, dependencies: string[]): void {\n        const data = {\n            dependencies,\n            storedAt: Date.now()\n        }\n\n        try {\n            localStorage.setItem('lastAccessed', '' + Date.now())\n            localStorage.setItem(packageName, JSON.stringify(data))\n        } catch (err) {\n            Cache.clearHalf()\n        }\n    }\n\n    static cacheSuggestions(packageName: string, suggestions: Suggestion[]): void {\n        this.suggestions[packageName] = suggestions\n    }\n\n    static getDependencies(packageName: string): string[] | null {\n        const cache = localStorage.getItem(packageName)\n\n        if (!cache) {\n            return null\n        }\n\n        try {\n            const dependencies = JSON.parse(cache).dependencies\n            return Array.from(dependencies)\n        } catch (err) {\n            // eslint-disable-next-line no-console\n            console.error('Error parsing cache', err)\n            return null\n        }\n    }\n\n    static getSuggestions(packageName: string): Suggestion[] | null {\n        return this.suggestions[packageName]\n    }\n\n    /**\n     * Returns the size of localStorage in kilobytes\n     */\n    static getSize(): number {\n        let total = 0\n\n        for (const item in localStorage) {\n            if (!Object.prototype.hasOwnProperty.call(localStorage, item)) {\n                continue\n            }\n\n            total += (localStorage[item].length + item.length) * 2\n        }\n\n        return total / 1024\n    }\n\n    /**\n     * Returns the number of items in localStorage\n     */\n    static getEntries(): number {\n        return localStorage.length\n    }\n\n    static clear(): void {\n        localStorage.clear()\n        store.dispatch(updateCacheSize(0, 0))\n    }\n\n    /**\n     * Removes the oldest half of the cache. Useful for when the cache gets\n     * full but we don't want to completely empty it\n     */\n    static clearHalf(): void {\n        const cache = []\n\n        for (const key in localStorage) {\n            const item = localStorage.getItem(key)\n\n            if (item && item.includes('dependencies')) {\n                try {\n                    const parsedItem: Package = JSON.parse(item)\n\n                    cache.push({\n                        key,\n                        storedAt: parsedItem.storedAt\n                    })\n                } catch (err) {\n                    // eslint-disable-next-line no-console\n                    console.error('Error retrieving dependency from cache', err)\n                }\n            }\n        }\n\n        cache.sort((a, b) => a.storedAt - b.storedAt)\n\n        for (let i = 0; i < Math.ceil(cache.length / 2); i++) {\n            localStorage.removeItem(cache[i].key)\n        }\n    }\n}\n\nexport type Suggestion = {\n    name: string\n    description: string\n}\n\ntype Package = {\n    storedAt: number\n    dependencies: string[]\n}\n\ntype SuggestionCache = {\n    [key: string]: Suggestion[]\n}\n\nexport default Cache\n","import { graphlib, Edge } from 'dagre'\n\n/**\n * Turns a dagre graph object into a js object that can be parsed by vis.\n */\nconst graphToJson = (packageName: string, graph: Graph): GraphJson => {\n    const nodes = graph.nodes().map((nodeName: string) => ({\n        id: nodeName,\n        label: nodeName\n    }))\n\n    const edges = graph.edges().map((edge: Edge) => ({\n        from: edge.v,\n        to: edge.w\n    }))\n\n    return {\n        rootNodeId: packageName,\n        nodes,\n        edges\n    }\n}\n\ntype Graph = graphlib.Graph\n\ntype GraphNode = {\n    id: string\n    label: string\n}\n\ntype GraphEdge = {\n    from: string\n    to: string\n}\n\nexport type GraphJson = {\n    rootNodeId: string\n    nodes: GraphNode[]\n    edges: GraphEdge[]\n}\n\nexport { graphToJson }\n","import { graphlib } from 'dagre'\nimport Cache, { Suggestion } from '../util/cache'\nimport { GraphJson, graphToJson } from '../util/graph'\n\nconst Graph = graphlib.Graph\n\n/**\n * Searches for every dependency a package relies on,\n * but only if that package is found on npm's registry api.\n */\nconst getDependencies = async (\n    packageName: string,\n    onProgressUpdate: OnProgressUpdate\n): Promise<GraphJson> => {\n    // Since _getPackageDependencies doesn't fail when it receives\n    // a 404, we need to check if the package actually exists first\n    // so we can show the 404 error page\n    const exists = await doesPackageExist(packageName)\n\n    if (!exists) {\n        throw new Error('Not found')\n    }\n\n    const root = new Graph({ directed: true })\n\n    root.setNode(packageName, '')\n\n    await _getDependencies(packageName, root, onProgressUpdate)\n\n    return graphToJson(packageName, root)\n}\n\n/**\n * Searches for every dependency from a package.json file.\n * This function doesn't care about 404 errors it might get\n * from searching the npm registry since some packages listed in\n * a package.json file might not be hosted on npm servers.\n */\nconst getDependenciesFromFile = async (\n    packageName: string,\n    dependencies: string[],\n    onProgressUpdate: OnProgressUpdate\n): Promise<GraphJson> => {\n    const root = new Graph({ directed: true })\n    const result = new Set<string>()\n    const promises: Promise<void | void[]>[] = []\n\n    root.setNode(packageName, '')\n\n    dependencies.forEach(dep => {\n        root.setEdge(packageName, dep)\n        promises.push(_getDependencies(dep, root, onProgressUpdate, result))\n    })\n\n    await Promise.all(promises)\n\n    return graphToJson(packageName, root)\n}\n\n/**\n * Recursively makes requests to the npm registry api to get all dependencies\n * of a package. Requests are added to a promise stack then are removed when\n * the request completes. Once the stack is empty and all requests have\n * completed, the function returns\n *\n * @param {String} name - The name of the package to search\n * @param {Graph} root - Used to build a graph of dependencies\n * @param {OnProgressUpdate} onProgressUpdate - Called when a request completes\n * @param {Set} result - Used to keep track of what dependencies this package has\n * @param {Object} seen - Used to make sure duplicate requests aren't made\n * @param {Array} remaining - Used to keep track of what requests still need to be made\n */\nconst _getDependencies = async (\n    name: string,\n    root: Graph,\n    onProgressUpdate: OnProgressUpdate,\n    result: Set<string> = new Set(),\n    seen: { [key: string]: boolean } = {},\n    remaining: string[] = []\n): Promise<void | void[]> => {\n    if (seen[name]) {\n        return\n    }\n\n    seen[name] = true\n\n    const promises: Promise<void>[] = []\n    const dependencies =\n        Cache.getDependencies(name) || (await getPackageDependencies(name))\n\n    // Cache this module's dependencies\n    // so we can look it up faster\n    Cache.cacheDependencies(name, dependencies)\n\n    dependencies.forEach(dep => {\n        remaining.push(dep)\n\n        // Add each dependency call to a promise stack so we\n        // can make multiple requests instead of waiting\n        // for each individual request to complete\n        promises.push(\n            _getDependencies(dep, root, onProgressUpdate, result, seen, remaining).then(\n                () => {\n                    result.add(dep)\n                    root.setEdge(name, dep)\n                    remaining.pop()\n\n                    onProgressUpdate(remaining.length, result.size, name)\n                }\n            )\n        )\n    })\n\n    return Promise.all(promises)\n}\n\nconst doesPackageExist = (packageName: string): Promise<boolean> => {\n    return new Promise(resolve => {\n        fetch(`https://registry.npmjs.cf/${encodeURIComponent(packageName)}`)\n            .then(res => resolve(res.status === 200))\n            .catch(() => resolve(false))\n    })\n}\n\nconst getPackageDependencies = (packageName: string): Promise<string[]> => {\n    return new Promise(resolve => {\n        fetch(`https://registry.npmjs.cf/${encodeURIComponent(packageName)}`)\n            .then(res => res.json())\n            .then((res: RegistryResponse) => {\n                // This happens if a package doesn't exist, is internal,\n                // or is unpublished. Instead of failing, an empty array\n                // is resolved so we don't fail any Promise.all calls.\n                if (!res['dist-tags'] || !res.versions) {\n                    resolve([])\n                    return\n                }\n\n                const latestVersion = res['dist-tags'].latest\n                const versionInfo = res.versions[latestVersion]\n\n                resolve(Object.keys(versionInfo.dependencies || []))\n            })\n    })\n}\n\nconst getSuggestions = (query: string): Promise<Suggestion[]> => {\n    const url = `https://registry.npmjs.org/-/v1/search?size=10&from=0&text=\"${encodeURIComponent(\n        query\n    )}\"`\n    const cached = Cache.getSuggestions(query)\n\n    return new Promise((resolve, reject) => {\n        if (cached) {\n            resolve(cached)\n            return\n        }\n\n        fetch(url)\n            .then(res => res.json())\n            .then((res: RegistryResponse) => {\n                const suggestions = res.objects.map(obj => ({\n                    name: obj.package.name,\n                    description: obj.package.description\n                }))\n                resolve(suggestions)\n\n                Cache.cacheSuggestions(query, suggestions)\n            })\n            .catch(err => reject(err))\n    })\n}\n\nconst API = {\n    getDependencies,\n    getDependenciesFromFile,\n    getSuggestions\n}\n\ntype Graph = graphlib.Graph\n\ntype OnProgressUpdate = (remaining: number, result: number, name: string) => void\n\ntype RegistryPackageResponse = {\n    'dist-tags'?: {\n        [key: string]: string\n    }\n    versions?: {\n        [key: string]: {\n            dependencies: {\n                [key: string]: string\n            }\n        }\n    }\n}\n\ntype RegistrySuggestionResponse = {\n    objects: {\n        package: {\n            name: string\n            description: string\n        }\n    }[]\n}\n\ntype RegistryResponse = RegistryPackageResponse & RegistrySuggestionResponse\n\nexport default API\n","import { updateGraphData } from './graph'\nimport {\n    SEARCH_FINISHED,\n    SEARCH_STARTED,\n    SEARCH_UPDATE_CACHE_SIZE,\n    SEARCH_PROGRESS,\n    SEARCH_ERROR\n} from './types'\nimport { clearPackageInfo, getPackageInfo, setPackageInfoFromJson } from './package'\nimport Cache from '../../util/cache'\nimport API from '../../api'\nimport Errors from '../../util/errors'\nimport { ActionCreator, Dispatch } from 'redux'\nimport { PackageJson } from './package'\n\nconst searchStart = (query: string): SearchAction => ({\n    type: SEARCH_STARTED,\n    query\n})\n\nconst searchFinished = (): SearchAction => ({\n    type: SEARCH_FINISHED\n})\n\nconst searchError = (errorCode: number): SearchAction => ({\n    type: SEARCH_ERROR,\n    errorCode\n})\n\nconst updateCacheSize = (entries: number, size: number): SearchAction => ({\n    type: SEARCH_UPDATE_CACHE_SIZE,\n    entries,\n    size\n})\n\nconst updateSearchProgress = (\n    remaining: number,\n    loaded: number,\n    name: string\n): SearchAction => ({\n    type: SEARCH_PROGRESS,\n    packagesLoaded: loaded,\n    packagesRemaining: remaining,\n    currentPackageLoaded: name\n})\n\nconst searchPackage = (query: string): ActionCreator<void> => {\n    return (dispatch: Dispatch | ActionCreator<void>) => {\n        dispatch(clearPackageInfo())\n        dispatch(searchStart(query))\n        dispatch(getPackageInfo(query))\n\n        const onProgressUpdate = (\n            packagesRemaining: number,\n            packagesLoaded: number,\n            packageName: string\n        ) => {\n            dispatch(updateSearchProgress(packagesRemaining, packagesLoaded, packageName))\n        }\n\n        // Not using catch here since errors in dispatch\n        // might trigger the catch block\n        API.getDependencies(query, onProgressUpdate).then(\n            data => {\n                const entries = Cache.getEntries()\n                const size = Cache.getSize()\n\n                dispatch(searchFinished())\n                dispatch(updateGraphData(data))\n                dispatch(updateCacheSize(entries, size))\n            },\n            error => {\n                // eslint-disable-next-line no-console\n                console.error(error)\n                dispatch(searchError(Errors.NOT_FOUND))\n            }\n        )\n    }\n}\n\nconst getDependenciesFromJsonFile = (json: PackageJson): ActionCreator<void> => {\n    return (dispatch: Dispatch) => {\n        const onProgressUpdate = (\n            packagesRemaining: number,\n            packagesLoaded: number,\n            packageName: string\n        ) => {\n            dispatch(updateSearchProgress(packagesRemaining, packagesLoaded, packageName))\n        }\n\n        const dependencies = Object.keys(json.dependencies)\n        dispatch(setPackageInfoFromJson(json))\n\n        API.getDependenciesFromFile(json.name, dependencies, onProgressUpdate).then(\n            data => {\n                const entries = Cache.getEntries()\n                const size = Cache.getSize()\n\n                dispatch(searchFinished())\n                dispatch(updateGraphData(data))\n                dispatch(updateCacheSize(entries, size))\n            },\n            error => {\n                // eslint-disable-next-line no-console\n                console.error(error)\n                dispatch(searchError(Errors.FILE_READ_ERROR))\n            }\n        )\n    }\n}\n\ntype SearchStart = {\n    type: typeof SEARCH_STARTED\n    query: string\n}\n\ntype SearchFinished = {\n    type: typeof SEARCH_FINISHED\n}\n\ntype SearchError = {\n    type: typeof SEARCH_ERROR\n    errorCode: number\n}\n\ntype SearchUpdateCache = {\n    type: typeof SEARCH_UPDATE_CACHE_SIZE\n    entries: number\n    size: number\n}\n\ntype SearchUpdateProgress = {\n    type: typeof SEARCH_PROGRESS\n    packagesLoaded: number\n    packagesRemaining: number\n    currentPackageLoaded: string\n}\n\nexport type SearchAction =\n    | SearchStart\n    | SearchFinished\n    | SearchError\n    | SearchUpdateCache\n    | SearchUpdateProgress\n\nexport {\n    searchPackage,\n    updateCacheSize,\n    getDependenciesFromJsonFile,\n    searchStart,\n    searchFinished,\n    searchError\n}\n","import './package-info.scss'\nimport React from 'react'\nimport { Row, Col, Progress, Statistic, Collapse, Divider } from 'antd'\nimport { connect } from 'react-redux'\nimport Errors from '../../util/errors'\n\nconst { Panel } = Collapse\n\nconst PackageLinks = props => {\n    if (!props.links) {\n        return null\n    }\n\n    const links = []\n\n    for (const key in props.links) {\n        links.push(\n            <a\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n                href={props.links[key]}\n                className=\"package-link\"\n                title={key}\n            >\n                {props.links[key]}\n            </a>\n        )\n    }\n\n    return (\n        <div className=\"package-info-block\">\n            <span className=\"label\">Links</span>\n            <div className=\"links-container\">\n                {links.map((item, index) => (\n                    <React.Fragment key={index}>{item}</React.Fragment>\n                ))}\n            </div>\n        </div>\n    )\n}\n\nconst GitHubStats = props =>\n    props.stars === null || props.forks === null ? null : (\n        <div className=\"package-info-block\">\n            <span className=\"label\">Statistics</span>\n            <Row justify=\"center\" align=\"center\" className=\"github-stats\">\n                <Col span={12}>\n                    <Statistic title=\"Stars\" value={props.stars} />\n                </Col>\n                <Col span={12}>\n                    <Statistic title=\"Forks\" value={props.forks} />\n                </Col>\n            </Row>\n        </div>\n    )\n\nconst DownloadStats = props =>\n    props.downloads === null || props.dependents === null ? null : (\n        <div className=\"package-info-block\">\n            <Row justify=\"center\" align=\"center\">\n                <Col span={12}>\n                    <Statistic title=\"Dependents\" value={props.dependents} />\n                </Col>\n                <Col span={12}>\n                    <Statistic title=\"Downloads\" value={props.downloads} />\n                </Col>\n            </Row>\n        </div>\n    )\n\nconst QualityStats = props =>\n    props.quality === null || props.popularity === null ? null : (\n        <div className=\"package-info-block\">\n            <Row justify=\"center\" align=\"center\" gutter={32}>\n                <Col span={12}>\n                    <div className=\"stats-score\">\n                        <span className=\"label\">Quality</span>\n                        <Progress\n                            type=\"circle\"\n                            size=\"small\"\n                            width={100}\n                            percent={props.quality}\n                            format={percent => `${percent}%`}\n                            className=\"stats-progress\"\n                        />\n                    </div>\n                </Col>\n                <Col span={12}>\n                    <div className=\"stats-score\">\n                        <span className=\"label\">Popularity</span>\n                        <Progress\n                            type=\"circle\"\n                            size=\"small\"\n                            width={100}\n                            percent={props.popularity}\n                            format={percent => `${percent}%`}\n                            className=\"stats-progress\"\n                        />\n                    </div>\n                </Col>\n            </Row>\n        </div>\n    )\n\nconst Dependencies = props => {\n    const deps = Object.keys(props.dependencies)\n\n    return (\n        <div className=\"package-info-block dependencies\">\n            <Collapse\n                bordered={false}\n                className=\"dependencies-collapse\"\n                expandIconPosition=\"right\"\n            >\n                <Panel\n                    header={`Direct Dependencies: ${deps.length}`}\n                    className=\"dependencies-collapse-panel\"\n                >\n                    {deps.map(key => (\n                        <div\n                            key={key}\n                            className=\"dependency-info\"\n                            onClick={() => props.onDependencyClick(key)}\n                        >\n                            <span className=\"dependency-name\" title={key}>\n                                {key}\n                            </span>\n                            <span\n                                className=\"dependency-name\"\n                                title={props.dependencies[key]}\n                            >\n                                {props.dependencies[key]}\n                            </span>\n                        </div>\n                    ))}\n                </Panel>\n            </Collapse>\n        </div>\n    )\n}\n\nconst PackageInfo = props => {\n    if (props.isLoading) {\n        return (\n            <div className=\"package-info-status\">\n                Loading details for {props.searchQuery}...\n            </div>\n        )\n    }\n\n    if (props.errorCode) {\n        let message = ''\n\n        switch (props.errorCode) {\n            case Errors.BAD_REQUEST:\n            case Errors.NOT_FOUND:\n                message = `No details found for ${props.searchQuery}`\n                break\n            default:\n                message = `An error ocurred while loading details for ${props.searchQuery}`\n        }\n\n        return <div className=\"package-info-status\">{message}</div>\n    }\n\n    if (!props.packageInfo) {\n        return null\n    }\n\n    const {\n        name,\n        description,\n        version,\n        dependencies,\n        downloads,\n        dependents,\n        stars,\n        forks,\n        quality,\n        popularity,\n        links\n    } = props.packageInfo\n\n    return (\n        <div className=\"package-info\">\n            <div className=\"package-info-block\">\n                <span className=\"label\">Package</span>\n                <div className=\"dependency-info package-name\">\n                    <span className=\"dependency-name\">{name}</span>\n                    <span>{version}</span>\n                </div>\n            </div>\n            {description ? (\n                <div className=\"package-info-block\">\n                    <span className=\"label\">Description</span>\n                    <p className=\"package-description\">{description}</p>\n                </div>\n            ) : null}\n            <PackageLinks links={links} />\n            <GitHubStats stars={stars} forks={forks} />\n            <DownloadStats downloads={downloads} dependents={dependents} />\n            <QualityStats quality={quality} popularity={popularity} />\n            <Dependencies\n                dependencies={dependencies}\n                onDependencyClick={props.onDependencyClick}\n            />\n            <Divider className=\"package-info-divider\" />\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    isLoading: state.package.isLoading,\n    packageInfo: state.package.packageInfo,\n    errorCode: state.package.errorCode,\n    searchQuery: state.search.searchQuery\n})\n\nexport default connect(mapStateToProps)(PackageInfo)\n","// Returns a function, that, as long as it continues to be invoked,\n// will not be triggered. The function will be called after it\n//stops being called for \"wait\" milliseconds\nconst debounce = (func, wait) => {\n    let timeout\n    return function () {\n        const context = this\n        const args = arguments\n\n        const later = function () {\n            timeout = null\n            func.apply(context, args)\n        }\n\n        clearTimeout(timeout)\n        timeout = setTimeout(later, wait)\n    }\n}\n\nexport default debounce\n","import './upload.scss'\nimport React from 'react'\nimport { Button, message } from 'antd'\nimport { UploadOutlined } from '@ant-design/icons'\nimport { connect } from 'react-redux'\nimport { getDependenciesFromJsonFile } from '../../store/actions/search'\nimport { searchStart, searchFinished, searchError } from '../../store/actions/search'\nimport { clearPackageInfo } from '../../store/actions/package'\nimport Errors from '../../util/errors'\n\nclass Upload extends React.Component {\n    constructor(props) {\n        super(props)\n        this.inputRef = React.createRef()\n\n        this.triggerUpload = this.triggerUpload.bind(this)\n        this.readFile = this.readFile.bind(this)\n        this.uploadStart = this.uploadStart.bind(this)\n        this.onFileLoaded = this.onFileLoaded.bind(this)\n        this.onError = this.onError.bind(this)\n\n        if (window.FileReader) {\n            this.fileReader = new FileReader()\n        }\n    }\n\n    triggerUpload() {\n        this.inputRef.current.click()\n    }\n\n    uploadStart() {\n        // Dispatch searchStart to show the loading overlay\n        this.props.searchStart()\n        this.props.clearPackageInfo()\n    }\n\n    onError(err) {\n        // eslint-disable-next-line no-console\n        console.error(err)\n        this.props.searchError(Errors.FILE_READ_ERROR)\n    }\n\n    onFileLoaded() {\n        if (!this.inputRef.current) {\n            return\n        }\n        // Reset the input value so users can\n        // upload the same file multiple times\n        this.inputRef.current.value = null\n\n        const content = this.fileReader.result\n\n        try {\n            const json = JSON.parse(content)\n\n            if (!json.dependencies) {\n                throw new Error('This file has no dependencies field')\n            }\n\n            if (!json.name) {\n                throw new Error('This file must have a name field')\n            }\n\n            // This could really only occur if the user tries to upload a\n            // package-lock.json file, since its dependencies are objects\n            // instead of strings\n            for (const dep in json.dependencies) {\n                if (typeof json.dependencies[dep] !== 'string') {\n                    throw new Error('Every dependency must be a string')\n                }\n            }\n\n            this.props.getDependenciesFromJsonFile(json)\n        } catch (err) {\n            this.props.searchError(Errors.FILE_READ_ERROR)\n            message.error(err.message)\n        }\n    }\n\n    readFile() {\n        const input = this.inputRef.current\n\n        if (!input.files || !input.files[0]) {\n            return\n        }\n\n        this.fileReader.onloadstart = this.uploadStart\n        this.fileReader.onload = this.onFileLoaded\n        this.fileReader.onerror = this.onError\n\n        this.fileReader.readAsText(input.files[0])\n    }\n\n    render() {\n        if (!window.FileReader) {\n            return null\n        }\n\n        return (\n            <div className=\"upload\">\n                <input\n                    hidden\n                    type=\"file\"\n                    accept=\"application/JSON\"\n                    ref={this.inputRef}\n                    onChange={this.readFile}\n                />\n                <Button icon={<UploadOutlined />} onClick={this.triggerUpload}>\n                    Upload package.json\n                </Button>\n            </div>\n        )\n    }\n}\n\nconst mapDispatchToProps = {\n    getDependenciesFromJsonFile,\n    searchStart,\n    searchFinished,\n    searchError,\n    clearPackageInfo\n}\n\nexport default connect(null, mapDispatchToProps)(Upload)\n","import './search-input.scss'\nimport React from 'react'\nimport { Input, Menu } from 'antd'\nimport { SearchOutlined } from '@ant-design/icons'\nimport watch from 'redux-watch'\nimport store from '../../store'\nimport { searchPackage } from '../../store/actions/search'\nimport { connect } from 'react-redux'\nimport debounce from '../../util/debounce'\nimport API from '../../api'\n\nclass SearchInput extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            inputValue: '',\n            isInputFocused: false,\n            suggestions: []\n        }\n\n        this.inputRef = React.createRef()\n        this.onSearch = this.onSearch.bind(this)\n        this.updateInputValue = this.updateInputValue.bind(this)\n        this.onInputFocus = this.onInputFocus.bind(this)\n        this.onInputBlur = this.onInputBlur.bind(this)\n        this.renderSuggestions = this.renderSuggestions.bind(this)\n        this.onMenuItemClick = this.onMenuItemClick.bind(this)\n        this.onEscPress = this.onEscPress.bind(this)\n\n        this.getSuggestions = debounce(this.getSuggestions.bind(this), 250)\n\n        const watcher = watch(store.getState, 'search.searchQuery')\n\n        // Since clicking on a dependency in the menu starts a search\n        // with a new query, we need to watch part of the store to\n        // make sure the search input value updates\n        this.unsubscribe = store.subscribe(\n            watcher(newValue => this.setState({ inputValue: newValue || '' }))\n        )\n    }\n\n    componentDidMount() {\n        document.addEventListener('keyup', this.onEscPress)\n    }\n\n    componentWillUnmount() {\n        this.unsubscribe()\n        document.removeEventListener('keyup', this.onEscPress)\n    }\n\n    onEscPress(event) {\n        if (event.key === 'Escape') {\n            this.inputRef.current.blur()\n        }\n    }\n\n    updateInputValue(event) {\n        let inputValue = event.target.value\n        // inputValue in the state isn't trimmed so\n        // we can allow spaces to be entered\n        this.setState({\n            inputValue,\n            suggestions: []\n        })\n\n        inputValue = inputValue.trim()\n\n        if (inputValue) {\n            this.getSuggestions(inputValue)\n        }\n    }\n\n    onInputFocus() {\n        this.setState({ isInputFocused: true })\n    }\n\n    onInputBlur() {\n        // The input looses focus before a menu item is clicked\n        // so we need to delay focus loss to let the menu\n        // click listener fire first\n        setTimeout(() => {\n            this.setState({ isInputFocused: false })\n        }, 150)\n    }\n\n    onSearch(event) {\n        const inputValue = event.target.value.trim()\n\n        // Prevent searching for a package that was just searched\n        if (!inputValue || inputValue === this.props.searchQuery) {\n            return\n        }\n\n        // Taking focus away from the input closes the\n        // keyboard on mobile devices\n        event.target.blur()\n\n        this.props.searchPackage(inputValue)\n        this.setState({ inputValue })\n    }\n\n    onMenuItemClick(event) {\n        const packageName = event.item.props.packagename\n        this.setState({ inputValue: packageName })\n        this.props.searchPackage(packageName)\n    }\n\n    getSuggestions(query) {\n        API.getSuggestions(query).then(suggestions => this.setState({ suggestions }))\n    }\n\n    renderSuggestions() {\n        if (\n            !this.state.inputValue.trim() ||\n            !this.state.isInputFocused ||\n            this.state.suggestions.length === 0\n        ) {\n            return null\n        }\n\n        // Pass in our own packagename prop to each menu item\n        // so we can read it when a menu item is clicked\n        return (\n            <Menu onClick={this.onMenuItemClick} className=\"search-input--menu\">\n                {this.state.suggestions.map((item, index) => (\n                    <Menu.Item\n                        key={index}\n                        packagename={item.name}\n                        className=\"search-input--menu-item\"\n                    >\n                        {item.name}\n                        <small>{item.description}</small>\n                    </Menu.Item>\n                ))}\n            </Menu>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"search-input\">\n                <Input\n                    value={this.state.inputValue}\n                    className=\"input-search\"\n                    placeholder=\"Search...\"\n                    size=\"large\"\n                    prefix={<SearchOutlined />}\n                    onPressEnter={this.onSearch}\n                    onChange={this.updateInputValue}\n                    ref={this.inputRef}\n                    onBlur={this.onInputBlur}\n                    onFocus={this.onInputFocus}\n                />\n                {this.renderSuggestions()}\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    searchQuery: state.search.searchQuery\n})\n\nconst mapDispatchToProps = {\n    searchPackage\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchInput)\n","import './menu.scss'\nimport React from 'react'\nimport { Layout, Statistic, Row, Col, Divider, Button, Popconfirm } from 'antd'\nimport {\n    MenuOutlined,\n    LeftOutlined,\n    DeleteOutlined,\n    GithubFilled\n} from '@ant-design/icons'\nimport { connect } from 'react-redux'\nimport { searchPackage } from '../../store/actions/search'\nimport PackageInfo from '../PackageInfo'\nimport Cache from '../../util/cache'\nimport debounce from '../../util/debounce'\nimport Upload from '../Upload'\nimport SearchInput from '../SearchInput'\n\nconst { Sider } = Layout\n\n// The width (in px) needed before the\n// menu takes up the entire screen\nconst MOBILE_BREAKPOINT = 650\n\nclass Menu extends React.Component {\n    constructor(props) {\n        super(props)\n\n        this.state = {\n            isOpen: window.innerWidth <= MOBILE_BREAKPOINT,\n            isMobile: window.innerWidth <= MOBILE_BREAKPOINT\n        }\n\n        this.toggleMenu = this.toggleMenu.bind(this)\n        this.onResize = debounce(this.onResize.bind(this), 500)\n        this.renderConfirmPopper = this.renderConfirmPopper.bind(this)\n    }\n\n    componentDidMount() {\n        window.addEventListener('resize', this.onResize)\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('resize', this.onResize)\n    }\n\n    toggleMenu() {\n        this.setState({ isOpen: !this.state.isOpen })\n    }\n\n    onResize() {\n        this.setState({ isMobile: window.innerWidth <= MOBILE_BREAKPOINT })\n    }\n\n    renderConfirmPopper() {\n        const { size, entries } = this.props.cache\n        const isCacheEmpty = entries === 0\n\n        return (\n            <Popconfirm\n                icon={\n                    <DeleteOutlined style={{ color: isCacheEmpty ? 'green' : 'red' }} />\n                }\n                title={\n                    isCacheEmpty\n                        ? 'Nothing here yet. We cache packages to speed up load times.'\n                        : 'Are you sure? Loading may be slower.'\n                }\n                placement=\"topLeft\"\n                cancelText=\"Cancel\"\n                onConfirm={\n                    // Sometimes the popup will re-render while closing.\n                    // Delaying clearing the cache prevents this.\n                    () => setTimeout(Cache.clear, 500)\n                }\n            >\n                <div className=\"menu-footer\">\n                    <small>Clear cache: {size.toFixed(2)} KB</small>\n                    <small>{entries} entries</small>\n                </div>\n            </Popconfirm>\n        )\n    }\n\n    render() {\n        return (\n            <div className=\"menu\">\n                {this.state.isOpen ? (\n                    <Button\n                        className=\"menu-open-btn\"\n                        icon={<MenuOutlined />}\n                        size=\"large\"\n                        onClick={this.toggleMenu}\n                    />\n                ) : null}\n                <Sider\n                    collapsible\n                    theme=\"light\"\n                    collapsedWidth={0}\n                    collapsed={this.state.isOpen}\n                    className=\"sider\"\n                    width={this.state.isMobile ? '100vw' : '22em'}\n                    trigger={null}\n                >\n                    <Button\n                        size=\"large\"\n                        icon={<LeftOutlined />}\n                        className=\"menu-close-btn\"\n                        onClick={this.toggleMenu}\n                    />\n\n                    <div className=\"menu-content\">\n                        <SearchInput />\n                        <Row className=\"stats\" justify=\"center\" align=\"middle\">\n                            <Col span={12}>\n                                <Statistic\n                                    title=\"All Dependencies\"\n                                    value={this.props.packagesLoaded}\n                                />\n                            </Col>\n                            <Col span={12} className=\"stat-remaining\">\n                                <Statistic\n                                    title=\"Remaining\"\n                                    value={this.props.packagesRemaining}\n                                />\n                            </Col>\n                        </Row>\n                        <Divider type=\"horizontal\" className=\"divider\" />\n                        <PackageInfo onDependencyClick={this.props.searchPackage} />\n                        <Upload />\n                        {this.renderConfirmPopper()}\n                        <div className=\"menu-footer\">\n                            <small>\n                                <a\n                                    href=\"https://github.com/ctcuff/dependency-visualizer\"\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                >\n                                    View source on GitHub\n                                </a>\n                            </small>\n                            <small>\n                                <GithubFilled />\n                            </small>\n                        </div>\n                    </div>\n                </Sider>\n            </div>\n        )\n    }\n}\n\nconst mapStateToProps = state => ({\n    isLoading: state.search.isLoading,\n    packagesLoaded: state.search.packagesLoaded,\n    packagesRemaining: state.search.packagesRemaining,\n    cache: state.search.cache\n})\n\nconst mapDispatchToProps = {\n    searchPackage\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Menu)\n","import './error-overlay.scss'\nimport React from 'react'\nimport { connect } from 'react-redux'\nimport error404 from '../../static/404.png'\nimport errorCone from '../../static/error-cone.png'\nimport errorTripped from '../../static/error-tripped.png'\nimport { Empty, Typography } from 'antd'\nimport Errors from '../../util/errors'\n\nconst { Title } = Typography\n\nconst ErrorOverlay = props => {\n    if (!props.errorCode) {\n        return null\n    }\n\n    let image\n    let errorTitle\n    let errorDescription\n    let errorMessage\n\n    switch (props.errorCode) {\n        case Errors.NOT_FOUND:\n            image = error404\n            errorTitle = 'Module not found'\n            errorDescription = `\n                We searched through time and space but couldn't\n                find the module you were looking for.\n            `\n            errorMessage = `\n                Check your spelling and try again. Not trying to make you feel\n                bad or anything, but hey, we all make mistakes. I can't tell\n                you how many times I've misspelled Wednesday. Am I the only\n                person who has to sound it out?\n            `\n            break\n        case Errors.FILE_READ_ERROR:\n            image = errorCone\n            errorTitle = 'Error reading file'\n            errorDescription = \"You're file couldn't be parsed.\"\n            errorMessage = `\n                Listen, we know how to read, but words are hard sometimes.\n                Are you sure the file you uploaded is valid JSON? Make sure\n                your file is valid and try again.\n            `\n            break\n        default:\n            image = errorTripped\n            errorTitle = 'We tripped up!'\n            errorDescription = 'An unknown error occurred.'\n            errorMessage = `\n                Well this is awkward... Usually you're not supposed to\n                see this message. Either something crazy happened, or the\n                world is about to end. If the latter, why not try to knock off\n                some items on your bucket list?\n            `\n    }\n\n    return (\n        <div className=\"error-overlay\">\n            <Empty image={image} imageStyle={{ height: '22em' }} description={null}>\n                <div>\n                    <Title level={2}>{errorTitle}</Title>\n                    <p>{errorDescription}</p>\n                    <p className=\"message\">{errorMessage}</p>\n                </div>\n            </Empty>\n        </div>\n    )\n}\n\nconst mapStateToProps = state => ({\n    errorCode: state.search.errorCode\n})\n\nexport default connect(mapStateToProps)(ErrorOverlay)\n","import './app.scss'\nimport React from 'react'\nimport DependencyGraph from '../DependencyGraph'\nimport LoadingOverlay from '../LoadingOverlay'\nimport { Layout } from 'antd'\nimport Menu from '../../components/Menu'\nimport { connect } from 'react-redux'\nimport ErrorOverlay from '../ErrorOverlay'\nimport Cache from '../../util/cache'\n\nconst { Content } = Layout\n\nconst App = props => (\n    <Layout className=\"app\">\n        <Menu />\n        <Layout className=\"content\">\n            <Content>\n                {props.isLoading || props.errorCode ? null : <DependencyGraph />}\n                <LoadingOverlay />\n                <ErrorOverlay />\n            </Content>\n        </Layout>\n    </Layout>\n)\n\nconst mapStateToProps = state => ({\n    isLoading: state.search.isLoading,\n    errorCode: state.search.errorCode\n})\n\nCache.init()\n\nexport default connect(mapStateToProps)(App)\n","import 'antd/dist/antd.css'\nimport './index.scss'\nimport React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport { Provider } from 'react-redux'\nimport store from './store'\n\nReactDOM.render(\n    <Provider store={store}>\n        <React.StrictMode>\n            <App />\n        </React.StrictMode>\n    </Provider>,\n    document.getElementById('root')\n)\n"],"sourceRoot":""}